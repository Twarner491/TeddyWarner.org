
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Did I really say that? Why yes, you did.">
      
      
        <meta name="author" content="Teddy Warner">
      
      
        <link rel="canonical" href="https://teddywarner.org/Projects/Quotes/">
      
      
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Quote Receipts - Teddy Warner</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Fira Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-DRNQ5C2ZP2"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-DRNQ5C2ZP2",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-DRNQ5C2ZP2",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quote-receipts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="header.title"
  >

  <a
  href="https://teddywarner.com/"
  title="Teddy Warner"
  class="md-header__rectangle"
  aria-label="Teddy Warner"
  data-md-component="logo"
  >
  <img class="logo"/>
  </a>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title"></div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input
            class="md-option"
            data-md-color-media=""
            data-md-color-scheme="default"
            data-md-color-accent="black"
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              onclick="colortheme()"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
            </label>
          
        
          
          
          <input
            class="md-option"
            data-md-color-media=""
            data-md-color-scheme="slate"
            data-md-color-accent="white"
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              onclick="colortheme()"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">

      <!-- Search input -->
      <input
        type="text"
        class="md-search__input"
        name="query"
        aria-label="Search"
        placeholder="Search"
        autocapitalize="off"
        autocorrect="off"
        autocomplete="off"
        spellcheck="false"
        data-md-component="search-query"
        required
      />

      <!-- Button to open search -->
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>

      <!-- Search options -->
      <nav
        class="md-search__options"
        aria-label="Search"
      >

        <!-- Button to share search -->
        
          <a
            href="javascript:void(0)"
            class="md-search__icon md-icon"
            title="Share"
            aria-label="Share"
            data-clipboard
            data-clipboard-text=""
            data-md-component="search-share"
            tabindex="-1"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        

        <!-- Button to reset search -->
        <button
          type="reset"
          class="md-search__icon md-icon"
          title="Clear"
          aria-label="Clear"
          tabindex="-1"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>

      <!-- Search suggestions -->
      
        <div
          class="md-search__suggest"
          data-md-component="search-suggest"
        ></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>

        <!-- Search results -->
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <label class="md-header__button md-icon" id="parent" onclick="togglemenu()">
     <span class="menu">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
     </span>
     <span class="close">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
     </span>
    </label>

  </nav>
</header>


    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://teddywarner.org" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://teddywarner.org/proj/" class="md-tabs__link">
        
  
  
    
  
  Projects

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://teddywarner.org/writ/" class="md-tabs__link">
        
  
  
    
  
  Writings

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  



<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="nav.title"
  data-md-level="0"
>

  <!-- Site title -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="../.."
      title="Teddy Warner"
      class="md-header__rectangle"
      aria-label="Teddy Warner"
      data-md-component="logo"
    >
      <img src="../../assets/images/TeddyWarner.svg" alt="home"/>
    </a>
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/Twarner491/TeddyWarner.org" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Twarner491/TeddyWarner.org
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      




    
      
      
      




    
      
      
      




    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#thats-a-quote" class="md-nav__link">
    <span class="md-ellipsis">
      
        &ldquo;That&rsquo;s a Quote.&rdquo;
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="“That’s a Quote.”">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#receipt-dot-local" class="md-nav__link">
    <span class="md-ellipsis">
      
        Receipt [dot] Local
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#printer-hacking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Printer Hacking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bom" class="md-nav__link">
    <span class="md-ellipsis">
      
        BOM
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quotebook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quotebook
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
  
                  <!-- Tags -->

  
  




<!-- Actions -->

  
  


<!--
  Hack: check whether the content contains a h1 headline. If it doesn't, the
  page title (or respectively site name) is used as the main headline.
-->


<!-- Page content -->
<p><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"></p>
<!-- Primary Meta Tags -->
<p><meta name="title" content="Quote Receipts - Teddy Warner">
  <meta name="description" content="Did I really say that? Why yes, you did.">
  <meta name="keywords" content="quote receipt printer, thermal printer project, raspberry pi, flask web server, DIY printer, quote collection, thermal receipt, python project, home automation, apartment project, raspberry pi 5, quote printer, receipt printer hack, thermal printing, local web server, skeuomorphic design">
  <meta name="author" content="Teddy Warner">
  <meta name="robots" content="index, follow"></p>
<!-- Open Graph / Facebook -->
<p><meta property="og:type" content="website">
  <meta property="og:url" content="https://teddywarner.org/Projects/Quotes/">
  <meta property="og:title" content="Quote Receipts - Teddy Warner">
  <meta property="og:description" content="Did I really say that? Why yes, you did.">
  <meta property="og:image" content="https://teddywarner.org/assets/images/quotes/thumb.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630"></p>
<!-- Twitter -->
<p><meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://teddywarner.org/Projects/Quotes/">
  <meta property="twitter:title" content="Quote Receipts - Teddy Warner">
  <meta property="twitter:description" content="Did I really say that? Why yes, you did.">
  <meta property="twitter:image" content="https://teddywarner.org/assets/images/quotes/thumb.png"></p>
<!-- Existing resource links -->
<script src="https://kit.fontawesome.com/79ff35ecec.js" crossorigin="anonymous"></script>
<p><link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../assets/css/projects/project.css">
  <link rel="stylesheet" href="../../assets/css/projects/vnp.css">
  <link rel="stylesheet" href="../../assets/css/projects/receipts.css">
  <link rel="stylesheet" href="../../assets/css/header.css"></p>
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Quote Receipts",
    "description": "Did I really say that? Why yes, you did.",
    "image": "https://teddywarner.org/assets/images/quotes/thumb.png",
    "author": {
      "@id": "https://teddywarner.org/#person"
    },
    "publisher": {
      "@id": "https://teddywarner.org/#person"
    },
    "datePublished": "2025-09-01T00:00:00Z",
    "dateModified": "2025-09-01T00:00:00Z",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://teddywarner.org/Projects/Quotes/"
    }
  }
  </script>
<p></head></p>
<nav class="main-navigation">
    <ul>
      <li><a class="home" href="https://teddywarner.com"><span class="navnum">01</span> Home</a></li>
      <li><a class="proj" href="https://teddywarner.com/proj/"><span class="navnum">02</span> Projects</a></li>
      <li><a class="writ" href="https://teddywarner.com/writ/"><span class="navnum">03</span> Writing</a></li>
    </ul>
  </nav>

<div class="blur-overlay"></div>

<script src="../../assets/js/header.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    initializeHeader();
  });
</script>

<div class="return2feed"><a href="https://teddywarner.org/proj"><i class="fa-solid fa-arrow-left-long"></i> Project Feed</a></div>

<h1 id="quote-receipts">Quote Receipts<a class="headerlink" href="#quote-receipts" title="Permanent link">&para;</a></h1>
<div style="margin-top: -0.8em;">
  <span class="abtlinks"><a href="https://x.com/WarnerTeddy"><img src="https://avatars.githubusercontent.com/u/48384497" alt="Teddy Warner's GitHub profile picture" class="profilepic"><span class="abt" id="name"> Teddy Warner</a><span class="abt" style="font-weight: 300; padding-left: 6px;"><span class="year">| Fall, 2025 </span>| <span class="readTime"><i class="far fa-clock"></i> 19–24 minutes</span></span></span></span>
  <span class="share" style=" color: inherit;">
  <a class="fb" title="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://teddywarner.org/Projects/Quotes"><i class="fa-brands fa-facebook"></i></a>
  <a class="twitter" title="Share on Twitter" href="https://twitter.com/intent/tweet?url=https://teddywarner.org/Projects/Quotes&text="><i class="fa-brands fa-x-twitter"></i></a>
  <a class="pin" title="Share on Pinterest" href="https://pinterest.com/pin/create/button/?url=https://teddywarner.org/Projects/Quotes&media=&description="><i class="fa-brands fa-pinterest"></i></a>
  <a class="ln" title="Share on LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https://teddywarner.org/Projects/Quotes"><i class="fab fa-linkedin"></i></a>
  <a class="email" title="Share via Email" href="mailto:info@example.com?&subject=&cc=&bcc=&body=https://teddywarner.org/Projects/Quotes%0A"><i class="fa-solid fa-paper-plane"></i></a>
  </span>
</div>

<hr />
<div style="
  width: 100%;
  padding: 2rem 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  line-height: 1.4;
  color: var(--md-default-fg-color);
  margin: 2rem 0;
">
  <div style="
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 1rem;
    letter-spacing: 2px;
    color: var(--md-default-fg-color);
  ">QUOTE RECEIPT</div>
  <div style="
    border-top: 1px dashed var(--md-default-fg-color--light);
    border-bottom: 1px dashed var(--md-default-fg-color--light);
    padding: 0.5rem 0;
    margin: 1rem auto;
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
    max-width: 300px;
  ">2025-10-04 21:48:01</div>
  <div style="
    margin: 1.5rem 0;
    font-style: italic;
    font-size: 0.95em;
    color: var(--md-default-fg-color);
  ">"Did I really say that?" Why yes, you did.</div>
  <div style="
    border-top: 1px solid var(--md-default-fg-color--light);
    padding-top: 1rem;
    margin: 1.5rem auto 0rem;
    text-align: right;
    font-size: 0.9em;
    color: var(--md-default-fg-color--light);
    max-width: 300px;
  ">-Teddy</div>
</div>

<p>I have some really wonderful friends. They, like I, say many silly things. </p>
<p>I wanted some means of capturing all of these quotes for later reference. Or to keep as nice souvenirs of thought.</p>
<p>My roommate and I have been going all in on the apartment projects (AIPhone, Cathode Ray Doorbell, StairGuitar™, etc. - I&rsquo;ll do write-ups on some of these at some point in the future), and I figured to stay in the same vein that my weekend project should attempt to solve my quote attribution problem. I also happened to have an <a href="https://www.amazon.com/dp/B0DFB82NPF?ref=ppx_pop_mob_ap_share">80mm Thermal Receipt Printer</a> lying around from another project I never got around to finishing.</p>
<p>And boom, I now knew how I would be spending my Saturday morning.</p>
<center>

<iframe width="100%" height="650" src="https://www.youtube.com/embed/F5_00bj8dHo" title="Quote Receipt" frameborder="0" allow="autoplay; encrypted-media" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

</center>

<h3 id="thats-a-quote">&ldquo;That&rsquo;s a Quote.&rdquo;<a class="headerlink" href="#thats-a-quote" title="Permanent link">&para;</a></h3>
<p>The general premise of this build is pretty easy: people in my apartment say silly / interesting / funny things all the time. Upon hearing one of these silly / interesting / funny things, a user should be able to print said thing with little imposition. As such, we&rsquo;ll need a locally hosted website, of course - A user will hear a quote, open said local website, and then a &ldquo;quote receipt&rdquo; will be generated and printed to memoralize that silly / interesting / funny moment for all of eternity.</p>
<p>This user flow demands a few things: first, a locally hosted webpage where a user can upload a quote. It&rsquo;s probably important that this remains local to our apartment network, as I think it provides a nice scope for what quotes are fit to be printed (and so the gimmick doesn&rsquo;t burn out too quickly). Also, this makes development easier. Second, a printer capable of quickly printing these &ldquo;quote receipts&rdquo;. I&rsquo;ll be fitting this printer with a Raspberrry Pi 5 to handle the webserver hosting / printing.</p>
<h4 id="receipt-dot-local">Receipt [dot] Local<a class="headerlink" href="#receipt-dot-local" title="Permanent link">&para;</a></h4>
<p>To start, lets take on this local webserver! For the sake of simplicity, I&rsquo;ll be sticking to some skeuomorphism and designing a webform to look like a receipt. I started by flashing a fresh copy of Raspberry Pi OS Lite (64-bit) onto an SD card and updating the WiFi credentials. </p>
<p>Then I SSH&rsquo;ed into the fresh RPI OS instance and got to work.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># SSH into your Pi</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>ssh<span class="w"> </span>pi@raspberrypi.local<span class="w"> </span><span class="c1"># Default password is usually &#39;raspberry&#39;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Update system</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>-y
</code></pre></div>
<p>A few config bits first:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Set timezone</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>sudo<span class="w"> </span>raspi-config
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># Navigate to: Localization Options &gt; Timezone &gt; Select yours</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1"># Change default password (recommended)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>passwd
</code></pre></div>
<p>Set Hostname to &lsquo;receipt&rsquo; or whatever tickles your fancy, but this allows users to go to &lsquo;receipt.local&rsquo; to upload their quote.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># Set hostname</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>sudo<span class="w"> </span>hostnamectl<span class="w"> </span>set-hostname<span class="w"> </span>receipt
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># Update hosts file</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/hosts
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1"># Change the line: 127.0.1.1 raspberrypi</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># To: 127.0.1.1 receipt</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># Save: Ctrl+O, Enter, Ctrl+X</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1"># Reboot to apply</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>sudo<span class="w"> </span>reboot
</code></pre></div>
<p>After reboot, reconnect with:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ssh<span class="w"> </span>pi@receipt.local
</code></pre></div>
<p>Then install Dependencies
  <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Install system packages</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3-pip<span class="w"> </span>python3-dev<span class="w"> </span>python3-pil<span class="w"> </span>libusb-1.0-0-dev<span class="w"> </span>avahi-daemon
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1"># Install Python libraries (both user and system-wide for sudo)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>pip3<span class="w"> </span>install<span class="w"> </span>flask<span class="w"> </span>python-escpos<span class="w"> </span>pyusb<span class="w"> </span>pillow<span class="w"> </span>--break-system-packages
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>flask<span class="w"> </span>python-escpos<span class="w"> </span>pyusb<span class="w"> </span>pillow<span class="w"> </span>--break-system-packages
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="c1"># Enable and start mDNS service</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>avahi-daemon
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>avahi-daemon
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="c1"># Reboot to ensure everything loads properly</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>sudo<span class="w"> </span>reboot
</code></pre></div></p>
<p>Plug in USB thermal printer, run <code>lsusb</code> to get vendor/product ID.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>lsusb
</code></pre></div>
<p>Output example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Bus 001 Device 005: ID 0483:5720 STMicroelectronics
</code></pre></div>
<p>Note: <code>0483:5720</code> → Vendor=<code>0x0483</code>, Product=<code>0x5720</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Get USB endpoint addresses</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>lsusb<span class="w"> </span>-v<span class="w"> </span>-d<span class="w"> </span><span class="m">0483</span>:5720<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="s2">&quot;bEndpointAddress&quot;</span>
</code></pre></div>
<p>Output example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>bEndpointAddress     0x03  EP 3 OUT
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>...
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>bEndpointAddress     0x81  EP 1 IN
</code></pre></div>
<p><em>Note your values:</em> Vendor ID: <code>0x0483</code>, Product ID: <code>0x5720</code>, OUT Endpoint: <code>0x03</code>, IN Endpoint: <code>0x81</code></p>
<p>Then we&rsquo;ll create a very minimal project structure - I&rsquo;m keeping this build to two files: a frontend HTML template and a simple Python backend. Clone the project repository:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Twarner491/quotes.git<span class="w"> </span>~/quotes
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nb">cd</span><span class="w"> </span>~/quotes
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>sudo<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt<span class="w"> </span>--break-system-packages
</code></pre></div>
<p>Update <a href="https://github.com/Twarner491/quotes/blob/main/src/app.py"><code>src/app.py</code></a> with your printer&rsquo;s vendor/product/endpoint IDs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">VENDOR_ID</span> <span class="o">=</span> <span class="mh">0x0483</span>      <span class="c1"># Your vendor ID</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">PRODUCT_ID</span> <span class="o">=</span> <span class="mh">0x5720</span>     <span class="c1"># Your product ID</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">OUT_EP</span> <span class="o">=</span> <span class="mh">0x03</span>           <span class="c1"># Your OUT endpoint</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="n">IN_EP</span> <span class="o">=</span> <span class="mh">0x81</span>            <span class="c1"># Your IN endpoint</span>
</code></pre></div>
<p>The frontend template lives in <a href="https://github.com/Twarner491/quotes/blob/main/src/templates/index.html"><code>src/templates/index.html</code></a>.</p>
<p>I&rsquo;m super happy with how the squedomorphic design came out here - Thermal Printers are somewhat limited in their output (due to binary color option) and as such I was pretty constrined when designing how I wanted the output reciept to look. Once i had a boilerplate from the backend, making this frontend match was easy.</p>
<figure>
<p><img alt="" src="../../assets/images/quotes/thumb.png" width="100%" /></p>
</figure>
<p>To get our RPI app up and running with the printer, we need to set some permissions. The udev rules are included in the repo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>sudo<span class="w"> </span>cp<span class="w"> </span>~/quotes/system-config/99-thermal-printer.rules<span class="w"> </span>/etc/udev/rules.d/
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>sudo<span class="w"> </span>udevadm<span class="w"> </span>control<span class="w"> </span>--reload-rules
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>sudo<span class="w"> </span>udevadm<span class="w"> </span>trigger
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1"># Add user to printer groups</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>lp,dialout<span class="w"> </span><span class="nv">$USER</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c1"># Reboot for permissions to take effect</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>sudo<span class="w"> </span>reboot
</code></pre></div>
<p>&hellip; and then we can test! Just be sure the printer is plugged into power, 80mm Thermal paper is loaded (I used <a href="https://www.amazon.com/dp/B0D14DYMHQ?ref=ppx_pop_mob_ap_share">MPRT 5 Rolls 3-1/8&rdquo; x 230</a>), and the printer is wired to the RPI via USB.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>ssh<span class="w"> </span>pi@receipt.local
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nb">cd</span><span class="w"> </span>~/quotes
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>sudo<span class="w"> </span>python3<span class="w"> </span>src/app.py
</code></pre></div>
<p>You should see:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>* Running on all addresses (0.0.0.0)
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>* Running on http://127.0.0.1:5000
</code></pre></div>
<p>Test from browser: <code>http://receipt.local:5000</code></p>
<p>Press <code>Ctrl+C</code> to stop when done testing.</p>
<p>As a final step to prep for step 2: Printer Hacking, we&rsquo;ll set up this app to auto run upon boot. The systemd service file is included in the repo at <a href="https://github.com/Twarner491/quotes/blob/main/system-config/receipt-printer-flask.service"><code>system-config/receipt-printer-flask.service</code></a>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sudo<span class="w"> </span>cp<span class="w"> </span>~/quotes/system-config/receipt-printer-flask.service<span class="w"> </span>/etc/systemd/system/receipt-printer.service
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>receipt-printer.service
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1"># Check status</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>receipt-printer.service
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1"># Test reboot</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>sudo<span class="w"> </span>reboot
</code></pre></div>
<p>After reboot, http://receipt.local:5000 should be live automatically!</p>
<center>

<iframe width="100%" height="650" src="https://www.youtube.com/embed/sNBxLepgpb0" title="First Quote Receipt" frameborder="0" allow="autoplay; encrypted-media" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<figcaption>Here's the first print with the Quote Printer</figcaption>

</center>

<p>As mentioned at the start of the article, my roommate and I have been going all in on the apartment projects. My roommate Andrew set up a <a href="https://www.home-assistant.io/yellow/">Home Assistant Yellow</a> the other week which we use alongside a few local MQTT servers to host all of our IOT devices and projects locally - way better than a ton of apps / interfaces on my phone. I wanted our quote printer to be accessible from anywhere and populate in our Home Assistant admin panel, so I&rsquo;ve appended an optional MQTT integration to the project.</p>
<details class="example" open="open">
<summary>Home Assistant Integration (Optional)</summary>
<p>The setup is straightforward: a webhook automation in Home Assistant receives print requests from the frontend, publishes them to an MQTT topic, and an MQTT subscriber script on the Pi listens for messages and triggers the printer. This allows the frontend to be hosted publicly (I&rsquo;m using GitHub Pages) while the printer itself remains on the local network, bridged through Home Assistant.</p>
<p>The relevant files are <a href="https://github.com/Twarner491/quotes/blob/main/src/mqtt_print_subscriber.py"><code>src/mqtt_print_subscriber.py</code></a> for the Pi-side MQTT listener and <a href="https://github.com/Twarner491/quotes/blob/main/system-config/receipt-printer-mqtt.service"><code>system-config/receipt-printer-mqtt.service</code></a> for the systemd service.</p>
<p><strong>Home Assistant Automation</strong></p>
<p>Add to <code>automations.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nt">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Quote</span><span class="nv"> </span><span class="s">Receipt</span><span class="nv"> </span><span class="s">Print&quot;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="nt">trigger</span><span class="p">:</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">platform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webhook</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="nt">webhook_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">quote_receipt_print</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="nt">allowed_methods</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">POST</span><span class="p p-Indicator">]</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="nt">local_only</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="nt">action</span><span class="p">:</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mqtt.publish</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">    </span><span class="nt">data</span><span class="p">:</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">      </span><span class="nt">topic</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;home/receipt_printer/print&quot;</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">      </span><span class="nt">payload_template</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">        </span><span class="no">{&quot;quote&quot;: &quot;{{ trigger.json.quote }}&quot;, &quot;author&quot;: &quot;{{ trigger.json.author | default(&#39;Anonymous&#39;) }}&quot;}</span>
</code></pre></div>
<p><strong>Enable CORS</strong></p>
<p>Add to <code>configuration.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nt">http</span><span class="p">:</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="nt">cors_allowed_origins</span><span class="p">:</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://your-frontend-domain.com</span>
</code></pre></div>
<p><strong>Pi MQTT Setup</strong></p>
<p>Edit <code>src/mqtt_print_subscriber.py</code> with your MQTT broker IP and printer IDs, then:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo<span class="w"> </span>cp<span class="w"> </span>system-config/receipt-printer-mqtt.service<span class="w"> </span>/etc/systemd/system/receipt-printer.service
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>receipt-printer.service
</code></pre></div>
<p><strong>Frontend</strong></p>
<p>Edit <code>src/templates/index.html</code> and set <code>HA_WEBHOOK_URL</code>, then host via GitHub Pages or use <code>build_static.py</code>.</p>
</details>
<h4 id="printer-hacking">Printer Hacking<a class="headerlink" href="#printer-hacking" title="Permanent link">&para;</a></h4>
<p>What fun is a whimsical apartment project if it doesn&rsquo;t look inconspicuous! To start, I removed the bottom of my <a href="https://www.amazon.com/dp/B0DFB82NPF?ref=ppx_pop_mob_ap_share">miemieyo Thermal Receipt Printer</a> to get a better sense of the space we have to work with by removing the two screws under the printer, as well as the two within the paper tray.</p>
<figure>
<p><img alt="" src="../../assets/images/quotes/noBackPrinter.JPG" width="80%" /></p>
</figure>
<p>Unsurprisingly the internals of this receipt printer hardly fill the printer cavity, so retrofitting with our updated internals should be no problem at all. While the base piece that came on the machine has a suprisingly perfect cut out to fit a Raspberry Pi (almost like they were asking for this quote printer to be built), I opted to redesign the base of the printer entirly to allow for proper mounting of the stock printer mainboard, as well as the Raspberry Pi 5 and the <a href="https://www.amazon.com/dp/B0DBVYP91F?ref=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;ref_=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;social_share=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;titleSource=true&amp;th=1">LM2596 Buck Converter</a> I&rsquo;m using to power it.</p>
<center>

<iframe src="https://gmail5303747.autodesk360.com/shares/public/SH90d2dQT28d5b602811b204791807ac66bf?mode=embed" width="100%" height="650" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>

</center>

<p>I printed this new base on my Prusa I3 MK3S+, cleaned it up, and then prepared the thermal printer for installation. This primarly involved unmounting and detaching all plugs from the mainboard to prepare to mount it to the new base. Additionally, I used some wire snippers to remove the old mainboard mounts (as pictured below)</p>
<figure>
<p><img align="left" alt="" src="../../assets/images/quotes/finishedprint.JPG" width="48%" />
<img align="right" alt="" src="../../assets/images/quotes/cutpegs.JPG" width="48%" /></p>
</figure>
<p>Then I started mounting components to the 3D printed baseplate, first the raspberry pi, then the buck converter.</p>
<figure>
<p><img align="left" alt="" src="../../assets/images/quotes/mountedPi.JPG" width="48%" />
<img align="right" alt="" src="../../assets/images/quotes/mountedBuck.JPG" width="48%" /></p>
</figure>
<p>Before continuing with the mainboard mounting, I wired the - IN terminal of the buck converter to the 24V in connector on the printer mainboard and the + IN to the printer power switch(note polarity below), and then used the potentiometer on the buck converter to set the output voltage to 5V.</p>
<figure>
<p><img align="left" alt="" src="../../assets/images/quotes/solderedBuck.JPG" width="48%" />
<img align="right" alt="" src="../../assets/images/quotes/buckTuning.JPG" width="48%" /></p>
</figure>
<p>I wired the +/- 5V output lines from the buck converter to the Raspberry Pi&rsquo;s GPIO, connected the printer mainboard to the Raspberry Pi via USB, and plugged in the printer mainboard&rsquo;s power (don&rsquo;t actually attach this to the wall yet, get everything mounted and closed up first) and then mounted the mainboard to the 3D printed baseplate (you&rsquo;ll need to plug in all the wires before mounting, its a tight fit).</p>
<figure>
<p><img alt="" src="../../assets/images/quotes/mountedMainboard.JPG" width="80%" /></p>
</figure>
<p>I then reattached the printer mainboard wires, </p>
<figure>
<p><img alt="" src="../../assets/images/quotes/wiredSystem.JPG" width="40%" /></p>
</figure>
<p>&hellip; and attached the new base plate to the printer (wiggling all the wires into place to ensure nothing gets caught/clamped), reattached the screws in the paper tray, and finally, the screws under the printer. Amazing - the quote receipt printer is good to go!</p>
<center>

<iframe width="100%" height="650" src="https://www.youtube.com/embed/b8bMIGniOwY" title="First Quote Receipt Printer Test" frameborder="0" allow="autoplay; encrypted-media" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

</center>

<h4 id="bom">BOM<a class="headerlink" href="#bom" title="Permanent link">&para;</a></h4>
<p>Building a quote receipt printer of your own is easy enough. The full project repo is at <a href="https://github.com/Twarner491/quotes">github.com/Twarner491/quotes</a>. Here&rsquo;s all you need:</p>
<table>
<thead>
<tr>
<th>Qty</th>
<th>Description</th>
<th>Price</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>miemieyo Thermal Receipt Printer 80mm</td>
<td>$65.99</td>
<td><a href="https://www.amazon.com/dp/B0DFB82NPF?ref=ppx_pop_mob_ap_share">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>MPRT 5 Rolls Thermal Paper 3-1/8&rdquo; x 230&rsquo;</td>
<td>$15.99</td>
<td><a href="https://www.amazon.com/dp/B0D14DYMHQ?ref=ppx_pop_mob_ap_share">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>LM2596 Buck Converter</td>
<td>$7.99</td>
<td><a href="https://www.amazon.com/dp/B0DBVYP91F?ref=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;ref_=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;social_share=cm_sw_r_cso_cp_apin_dp_3M2S1XQWDF42DGM55ED8&amp;titleSource=true&amp;th=1">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>Raspberry Pi 5</td>
<td>$79.95</td>
<td><a href="https://www.raspberrypi.com/products/raspberry-pi-5/">Raspberry Pi</a></td>
<td>Any Pi model should work - I happened to have a RPI5 8GB lying around</td>
</tr>
<tr>
<td></td>
<td>Some spare wire</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>∞</td>
<td>Friends that say silly things</td>
<td>Free</td>
<td><a href="https://apps.apple.com/us/app/find-my-friends/id466122094">Find My Friends</a></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="quotebook">Quotebook<a class="headerlink" href="#quotebook" title="Permanent link">&para;</a></h3>
<p>This thing is so awesome. I&rsquo;ve had some great fun printing out quotes this weekend and attached a few favorites below. I&rsquo;ll update this every once in a while as I log more silly things.</p>
<div class="receipt-carousel-container">
  <div class="receipt-carousel">
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7548.JPG" alt="Quote Receipt 16" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7536.JPG" alt="Quote Receipt 4" class="receipt-image">
    </div>    
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7540.JPG" alt="Quote Receipt 8" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7533.JPG" alt="Quote Receipt 1" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7534.JPG" alt="Quote Receipt 2" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7535.JPG" alt="Quote Receipt 3" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7537.JPG" alt="Quote Receipt 5" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7538.JPG" alt="Quote Receipt 6" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7539.JPG" alt="Quote Receipt 7" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7541.JPG" alt="Quote Receipt 9" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7542.JPG" alt="Quote Receipt 10" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7543.JPG" alt="Quote Receipt 11" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7544.JPG" alt="Quote Receipt 12" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7545.JPG" alt="Quote Receipt 13" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7546.JPG" alt="Quote Receipt 14" class="receipt-image">
    </div>
    <div class="receipt-item">
      <img src="../../assets/images/quotes/receipts/IMG_7547.JPG" alt="Quote Receipt 15" class="receipt-image">
    </div>
  </div>
</div>

<p>Also, thermal printers are really wonderful pieces of technology. I was astonished by how quickly these things print, very low latency from silly quote being said to quote receipt in hand. To stress test, I decided to print the entire Bee Movie script.</p>
<center>

<iframe width="100%" height="650" src="https://www.youtube.com/embed/d4OV7coOji8" title="Bee Movie" frameborder="0" allow="autoplay; encrypted-media" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

</center>

<p>I hung the results like tinsel in my living room.</p>
<figure>
<p><img alt="" src="../../assets/images/quotes/bms.JPG" width="100%" /></p>
</figure>
<p>p.s. This &ldquo;i before e except after c&rdquo; shenanigans really throws me off. Apologies in advance for any &ldquo;reciepts&rdquo; left in this piece lol.</p>
<div style="
  width: 100%;
  padding: 2rem 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  line-height: 1.4;
  color: #333;
  margin: 2rem 0;
">
  <div style="
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px dashed var(--md-default-fg-color--light);
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  ">
    <div style="
      font-weight: bold;
      text-decoration: underline;
      margin-bottom: 0.5rem;
      color: var(--md-default-fg-color);
    ">CERTIFIED STUPID</div>
    <div style="
      font-size: 0.8em;
      color: var(--md-default-fg-color--light);
      line-height: 1.3;
    ">
      No refunds. No context.<br>
      Memories printed. Dignity sold.
    </div>
  </div>
</div>

<script src="../../assets/js/reciepts.js"></script>

<!-- Source file information -->


<!-- Was this page helpful? -->

  


  



<!-- Comment system -->

                

  <!-- Giscus -->
  <h2 id="__comments">Comments</h2>
  <script src="https://giscus.app/client.js"
  data-cfasync="false"
  data-repo="Twarner491/TeddyWarner.org"
  data-repo-id="MDEwOlJlcG9zaXRvcnkzNzgyODU0MTk="
  data-category="General"
  data-category-id="DIC_kwDOFowta84CA5IA"
  data-mapping="title"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="light"
  data-lang="en"
  crossorigin="anonymous"
  async>
</script>

  <!-- Reload on palette change -->
  <script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
      if (palette.color.scheme === "slate") {
        var giscus = document.querySelector("script[src*=giscus]")
        giscus.setAttribute("data-theme", "dark") 
      }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<section class="footer">
  <div class="socials">
    <div class="socialpar">
      <a target=”_blank” href="https://github.com/Twarner491">
        <i class="fa-brands fa-github"></i>
      </a>
    </div>
    <div class="socialpar">
      <a target=”_blank” href="https://x.com/WarnerTeddy">
        <i class="fa-brands fa-x-twitter"></i>
      </a>
    </div>
    <div class="socialpar">
      <a target=”_blank” href="mailto:teddy@intempus.org">
        <i class="fa-solid fa-paper-plane"></i>
      </a>
    </div>
  </div>
    <a target=”_blank” href="https://github.com/Twarner491/TeddyWarner.org/blob/main/LICENSE">
      <p class="copyright">Copyright © 2025 Teddy Warner</p>
    </a>
</section>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.expand", "content.code.annotate", "search.share", "search.suggest", "content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../assets/js/error-suppressor.js"></script>
      
        <script src="../../assets/js/index.js"></script>
      
        <script src="../../assets/js/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?defer"></script>
      
    
  </body>
</html>