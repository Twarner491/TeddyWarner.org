
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An AVR-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!">
      
      
        <meta name="author" content="Teddy Warner">
      
      
        <link rel="canonical" href="https://theodore.net/Projects/VonNiemannProbe/">
      
      
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.gif">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Von Niemann Probe - Teddy Warner</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Fira Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-DRNQ5C2ZP2"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-DRNQ5C2ZP2",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-DRNQ5C2ZP2",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  <!-- Primary Meta Tags -->
  <meta name="title" content="Von Niemann Probe - Teddy Warner">
  <meta name="description" content="An AVR-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!">
  <meta name="keywords" content="Chess cheating, Hans Niemann, Bluetooth telegraph, AVR microcontroller, Shoe insole, Parametric design, PCB design, Morse code, Chess scandal, Magnus Carlsen, Electronics project">
  <meta name="author" content="Teddy Warner">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://theodore.netProjects/VonNiemannProbe/">
  <meta property="og:title" content="Von Niemann Probe - Teddy Warner">
  <meta property="og:description" content="An AVR-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!">
  <meta property="og:image" content="https://theodore.net/assets/images/VonNiemannProbe/thumb.jpg">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://theodore.netProjects/VonNiemannProbe/">
  <meta property="twitter:title" content="Von Niemann Probe - Teddy Warner">
  <meta property="twitter:description" content="An AVR-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!">
  <meta property="twitter:image" content="https://theodore.net/assets/images/VonNiemannProbe/thumb.jpg">

  <!-- Preconnect hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://kit.fontawesome.com" crossorigin>
  <link rel="preconnect" href="https://ka-f.fontawesome.com" crossorigin>
  <link rel="preconnect" href="https://api.github.com">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  
  <!-- Page Styles -->
  <link rel="stylesheet" href="https://theodore.net/assets/css/Projects/project.css">
  <link rel="stylesheet" href="https://theodore.net/assets/css/header.css">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Von Niemann Probe",
    "description": "An AVR-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!",
    "image": "https://theodore.net/assets/images/VonNiemannProbe/thumb.jpg",
    "author": {
      "@id": "https://theodore.net/#person"
    },
    "publisher": {
      "@id": "https://theodore.net/#person"
    },
    "datePublished": "2023-12-15T00:00:00Z",
    "dateModified": "2024-06-09T00:00:00Z",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://theodore.netProjects/VonNiemannProbe/"
    }
  }
  </script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#telegraph-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="header.title"
  >

  <a
  href="https://teddywarner.com"
  title="Teddy Warner"
  class="md-header__rectangle"
  aria-label="Teddy Warner"
  data-md-component="logo"
  >
  <img class="logo" src="/assets/images/index/avatardark.svg" alt="Teddy Warner" fetchpriority="high"/>
  </a>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title"></div>

    <!-- Color palette -->
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input
            class="md-option"
            data-md-color-media=""
            data-md-color-scheme="default"
            data-md-color-accent="black"
            
              aria-label="Switch to dark mode"
            
            type="radio"
            name="__palette"
            id="__palette_1"
          />
          
            <label
              class="md-header__button md-icon"
              onclick="colortheme()"
              title="Switch to dark mode"
              for="__palette_2"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
            </label>
          
        
          
          
          <input
            class="md-option"
            data-md-color-media=""
            data-md-color-scheme="slate"
            data-md-color-accent="white"
            
              aria-label="Switch to light mode"
            
            type="radio"
            name="__palette"
            id="__palette_2"
          />
          
            <label
              class="md-header__button md-icon"
              onclick="colortheme()"
              title="Switch to light mode"
              for="__palette_1"
              hidden
            >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
            </label>
          
        
      </form>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <!-- Search interface -->
<div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">

      <!-- Search input -->
      <input
        type="text"
        class="md-search__input"
        name="query"
        aria-label="Search"
        placeholder="Search"
        autocapitalize="off"
        autocorrect="off"
        autocomplete="off"
        spellcheck="false"
        data-md-component="search-query"
        required
      />

      <!-- Button to open search -->
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>

      <!-- Search options -->
      <nav
        class="md-search__options"
        aria-label="Search"
      >

        <!-- Button to share search -->
        
          <a
            href="javascript:void(0)"
            class="md-search__icon md-icon"
            title="Share"
            aria-label="Share"
            data-clipboard
            data-clipboard-text=""
            data-md-component="search-share"
            tabindex="-1"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        

        <!-- Button to reset search -->
        <button
          type="reset"
          class="md-search__icon md-icon"
          title="Clear"
          aria-label="Clear"
          tabindex="-1"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>

      <!-- Search suggestions -->
      
        <div
          class="md-search__suggest"
          data-md-component="search-suggest"
        ></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>

        <!-- Search results -->
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <label class="md-header__button md-icon" id="parent" onclick="togglemenu()">
     <span class="menu">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
     </span>
     <span class="close">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
     </span>
    </label>

  </nav>
</header>

    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://teddywarner.com" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../projects/" class="md-tabs__link">
        
  
  
    
  
  Projects

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../writings/" class="md-tabs__link">
        
  
  
    
  
  Writings

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  



<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="nav.title"
  data-md-level="0"
>

  <!-- Site title -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="../.."
      title="Teddy Warner"
      class="md-header__rectangle"
      aria-label="Teddy Warner"
      data-md-component="logo"
    >
      <img src="../../assets/images/TeddyWarner.svg" alt="home"/>
    </a>
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/Twarner491/theodore.net" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Twarner491/theodore.net
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      




    
      
      
      




    
      
      
      




    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#telegraph-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Telegraph Design
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telegraph Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pcb-design-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        PCB Design &amp; Integration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametric-shoe-insole" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parametric Shoe Insole
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chess-engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chess Engine
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chess Engine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-configuring-stockfish" class="md-nav__link">
    <span class="md-ellipsis">
      
        Downloading &amp; Configuring Stockfish
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-move-legality" class="md-nav__link">
    <span class="md-ellipsis">
      
        Checking Move Legality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#morse-code-translation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Morse Code Translation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sending-moves-via-bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sending Moves Via Bluetooth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegraph-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Telegraph Code
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Telegraph Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c-setup-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        C++ Setup &amp; Initialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiving-transmitting-moves" class="md-nav__link">
    <span class="md-ellipsis">
      
        Receiving &amp; Transmitting Moves
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fabrication-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fabrication &amp; Testing
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
  <!-- Navigation Menu -->
  <nav class="main-navigation">
    <ul>
      <li><a class="home" href="https://teddywarner.com"><span class="navnum">01</span> Home</a></li>
      <li><a class="proj" href="/projects"><span class="navnum">02</span> Projects</a></li>
      <li><a class="writ" href="/writings"><span class="navnum">03</span> Writing</a></li>
    </ul>
  </nav>
  
  <div class="blur-overlay"></div>

  <script src="https://kit.fontawesome.com/79ff35ecec.js" crossorigin="anonymous"></script>
  <script src="https://theodore.net/assets/js/header.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      initializeHeader();
    });
  </script>

  <!-- Return to feed link -->
  
  <div class="return2feed"><a href="https://theodore.net/projects"><i class="fa-solid fa-arrow-left-long"></i> Projects Feed</a></div>
  

  <!-- Article Header with Author Info and Share Buttons -->
  <h1 class="article-title">Von Niemann Probe</h1>
  
  <div class="article-meta" style="margin-top: -0.8em;">
    <span class="abtlinks">
      <a href="https://x.com/WarnerTeddy">
        <img src="https://avatars.githubusercontent.com/u/48384497" alt="Teddy Warner's GitHub profile picture" class="profilepic">
        <span class="abt" id="name"> Teddy Warner</span>
      </a>
      <span class="abt" style="font-weight: 300; padding-left: 6px;">
        <span class="year">| Dec 2023 </span>
        | <span class="readTime"><i class="far fa-clock"></i> 46–58 minutes</span>
      </span>
    </span>
    <span class="share" style="color: inherit;">
      <a class="fb" title="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://theodore.netProjects/VonNiemannProbe/"><i class="fa-brands fa-facebook"></i></a>
      <a class="twitter" title="Share on Twitter" href="https://twitter.com/intent/tweet?url=https://theodore.netProjects/VonNiemannProbe/&text=Von%20Niemann%20Probe"><i class="fa-brands fa-x-twitter"></i></a>
      <a class="pin" title="Share on Pinterest" href="https://pinterest.com/pin/create/button/?url=https://theodore.netProjects/VonNiemannProbe/&media=https://theodore.net/assets/images/VonNiemannProbe/thumb.jpg&description=An%20AVR-based%20Bluetooth%20telegraphing%20shoe%20insole%20that%20lets%20you%20play%20chess%20in%20the%20way%20Hans%20Niemann%20has%20been%20accused%21"><i class="fa-brands fa-pinterest"></i></a>
      <a class="ln" title="Share on LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https://theodore.netProjects/VonNiemannProbe/"><i class="fab fa-linkedin"></i></a>
      <a class="email" title="Share via Email" href="mailto:?subject=Von%20Niemann%20Probe&body=https://theodore.netProjects/VonNiemannProbe/"><i class="fa-solid fa-paper-plane"></i></a>
    </span>
  </div>

  <hr class="article-divider">

  <!-- Page Content -->
  <p><link rel="stylesheet" href="/assets/css/projects/vnp.css"></p>
<center>
  <div style="position:relative;padding-bottom:56.25%;">
    <iframe width="100%" height="100" style="width:100%;height:100%;position:absolute;left:0px;top:0px;" src="https://www.youtube.com/embed/ygy8M-QhbSo" title="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>

</center>

<figure>
<p><strong>An <abbr title="A Family of microcontrollers developed since 1996 by Atmel">AVR</abbr>-based Bluetooth telegraphing shoe insole that lets you play chess in the way Hans Niemann has been accused!</strong></p>
</figure>
<div class="admonition tip">
<p class="admonition-title">Project Sponsor</p>
<p><img align="right" alt="PCBWay logo" src="../../assets/images/VonNiemannProbe/PCBWay.png" width="45%" />
<span style="font-size:1.15em; width:55%;"><strong>The development of the Von Niemann Probe was made possible by <a href="https://www.pcbway.com/">PCBWay</a>, who provided the fabrication of the probe&rsquo;s main board and nylon insole.</strong> Be sure to check out <a href="https://www.pcbway.com/">PCBWay.com</a> for all your <abbr title="Printed Circuit Board">PCB</abbr> prototyping, assembly, design, <abbr title="Computerized Numerical Control">CNC</abbr>, and 3D printing needs! Thank you to the wonderful folks at <a href="https://www.pcbway.com/">PCBWay</a> for sponsoring this project!</span></p>
</div>
<p>On September 4, 2022, 19-year-old rising chess superstar, Grandmaster Hans Moke Niemann, shocked the chess world when he ended the 8-time World Champion, and arguably the greatest player in world history, Magnus Carlsen&rsquo;s unprecedented 53-game win streak at the Sinquefield Cup in St. Louis, Missouri. Niemann added insult to injury by accomplishing this as the lowest-ranked player in the tournament while playing with the black pieces, which possess a slight, but crucially important, disadvantage at the highest levels of competition. </p>
<p>Soon after his loss, Carlsen withdrew from the Sinquefield Cup without explanation, a bizarre occurrence due to the remaining six rounds in the tournament. While chess enthusiasts on the internet grappled with possible reasons for Carlsen&rsquo;s withdrawal, Carlsen posted the tweet below, depicting Portuguese football manager José Mourinho saying &ldquo;If I speak I am in big trouble&rdquo;, a brief innuendo to the accusations to come.</p>
<center>
  <br>
  <div class="tweet-container">
    <div class="tweet-item single">
      <span class="lighttweet"><blockquote id='tweet' class="twitter-tweet" data-theme="light"><p lang="en" dir="ltr">I&#39;ve withdrawn from the tournament. I&#39;ve always enjoyed playing in the <a href="https://twitter.com/STLChessClub?ref_src=twsrc%5Etfw">@STLChessClub</a>, and hope to be back in the future <a href="https://t.co/YFSpl8er3u">https://t.co/YFSpl8er3u</a></p>&mdash; Magnus Carlsen (@MagnusCarlsen) <a href="https://twitter.com/MagnusCarlsen/status/1566848734616555523?ref_src=twsrc%5Etfw">September 5, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
      <span class="darktweet"><blockquote id='tweet' class="twitter-tweet" data-theme="dark"><p lang="en" dir="ltr">I&#39;ve withdrawn from the tournament. I&#39;ve always enjoyed playing in the <a href="https://twitter.com/STLChessClub?ref_src=twsrc%5Etfw">@STLChessClub</a>, and hope to be back in the future <a href="https://t.co/YFSpl8er3u">https://t.co/YFSpl8er3u</a></p>&mdash; Magnus Carlsen (@MagnusCarlsen) <a href="https://twitter.com/MagnusCarlsen/status/1566848734616555523?ref_src=twsrc%5Etfw">September 5, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
    </div>
  </div>
  <br>
</center>

<p>Carlsen&rsquo;s message drove many chess fans around the globe quickly began to lob accusations of foul play at Niemann, who has had a history of cheating in online games, and speculate on how he could have cheated in an over-the-board match. A theory that Niemann used a wearable device to relay computer-generated moves was quickly popularized and became incredibly popular amongst chess fans and the broader internet. Despite the internet&rsquo;s suspicions, no clear accusations were placed, nor did any solid evidence surface. Yet, on September 8th, 2022, <a href="https://www.chess.com/home">Chess.com</a> released the tweet seen below, confirming it had removed Hans Moke Niemann from its user base for cheating.</p>
<center>
  <br>
  <div class="tweet-container">
    <div class="tweet-item single">
      <span class="lighttweet"><blockquote id='tweet1' class="twitter-tweet" data-theme="light"><p lang="zxx" dir="ltr"><a href="https://t.co/sFMrmocLcS">pic.twitter.com/sFMrmocLcS</a></p>&mdash; Chess.com (@chesscom) <a href="https://twitter.com/chesscom/status/1568010971616100352?ref_src=twsrc%5Etfw">September 8, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
      <span class="darktweet"><blockquote id='tweet1' class="twitter-tweet" data-theme="dark"><p lang="zxx" dir="ltr"><a href="https://t.co/sFMrmocLcS">pic.twitter.com/sFMrmocLcS</a></p>&mdash; Chess.com (@chesscom) <a href="https://twitter.com/chesscom/status/1568010971616100352?ref_src=twsrc%5Etfw">September 8, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
    </div>
  </div>
  <br>
</center>

<p>These direct allegations from <a href="https://www.chess.com/home">Chess.com</a> spurred further allegations against Niemann, as well as his confession to cheating on two separate occasions, both in online games, once at age 12 and another at 16. Yet, Niemann denied ever cheating over the board, even offering to &ldquo;strip fully naked&rdquo;<sup id="fnref:16"><a class="footnote-ref" href="#fn:16">16</a></sup> or &ldquo;to play in a closed box with zero electronic transmission&rdquo;<sup id="fnref2:16"><a class="footnote-ref" href="#fn:16">16</a></sup> to prove his innocence. </p>
<p>To only further the drama, on Monday, September 26, 2022, the pair were re-matched in an online tournament in which Carlsen resigned after playing a single move. Later that night, Carlsen released his open accusations against Niemann claiming he believes that &ldquo;Niemann has cheated more — and more recently — than he has publicly admitted.&rdquo;<sup id="fnref:18"><a class="footnote-ref" href="#fn:18">18</a></sup> Carlsen claims he derived his initial suspicions form Niemann&rsquo;s rapid rise through the chess ranks. For reference, Niemann surged from being approximately 800 in the world, to within the top 50 over the 20 months leading up to the Sinquefield Cup. GM Hikaru Nakamura describes this rise as &ldquo;unprecedented&rdquo;<sup id="fnref:14"><a class="footnote-ref" href="#fn:14">14</a></sup> and <a href="https://www.chess.com/home">Chess.com</a> claims that Niemann is the &ldquo;fastest rising top player &hellip; in modern recorded history&rdquo;<sup id="fnref:13"><a class="footnote-ref" href="#fn:13">13</a></sup>, yet others find it comparable to top junior ranked players. Carlsen outline in his formal accusation (found in the tweet below) that Niemann &ldquo;wasn&rsquo;t tense or even fully concentrating&rdquo;<sup id="fnref2:18"><a class="footnote-ref" href="#fn:18">18</a></sup> while outplaying him using the black pieces &ldquo;in a way I think only a handful of players can do&rdquo;<sup id="fnref3:18"><a class="footnote-ref" href="#fn:18">18</a></sup> during the tournament.</p>
<center>
  <br>
  <div class="tweet-container">
    <div class="tweet-item single">
      <span class="lighttweet"><blockquote id='tweet2' class="twitter-tweet" data-theme="light"><p lang="en" dir="ltr">My statement regarding the last few weeks. <a href="https://t.co/KY34DbcjLo">pic.twitter.com/KY34DbcjLo</a></p>&mdash; Magnus Carlsen (@MagnusCarlsen) <a href="https://twitter.com/MagnusCarlsen/status/1574482694406565888?ref_src=twsrc%5Etfw">September 26, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
      <span class="darktweet"><blockquote id='tweet2' class="twitter-tweet" data-theme="dark"><p lang="en" dir="ltr">My statement regarding the last few weeks. <a href="https://t.co/KY34DbcjLo">pic.twitter.com/KY34DbcjLo</a></p>&mdash; Magnus Carlsen (@MagnusCarlsen) <a href="https://twitter.com/MagnusCarlsen/status/1574482694406565888?ref_src=twsrc%5Etfw">September 26, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
    </div>
  </div>
  <br>
</center>

<p>The implications of such an unprecedented accusation against a player at the GM (Grandmaster) level are highly slanderous. Grandmaster Nigel Short notes that cheating at this level of chess is exceptionally rare, as any proven allegations would end a player&rsquo;s career. GM Short told the BBC &ldquo;I think in the absence of any evidence, statement or anything, then this is a very unfortunate way to go about things. It&rsquo;s death by innuendo.&rdquo;<sup id="fnref2:14"><a class="footnote-ref" href="#fn:14">14</a></sup> Furthering GM Short&rsquo;s skepticism, Professor Kenneth Regan, widely considered to be the world&rsquo;s leading expert on chess cheating, took it upon himself to analyze Niemann&rsquo;s games and found no evidence of cheating. </p>
<p>Naturally, Niemann isn&rsquo;t taking kindly to these slanderous accusations, and has filed a federal lawsuit accusing Carlsen of &ldquo;maliciously colluding with others to defame [him] and ruin his career.&rdquo;<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> Niemann is after at least <em>$100 Million</em> in damages from defendants Carlsen, his company Play Magnus Group, the online platform Chess.com and its leader, Danny Rensch, as well as grandmaster Hikaru Nakamura. The court filing, found below, accuses GM Nakamura and Chess.com of bolstering Carlsen&rsquo;s &ldquo;egregious&rdquo; claims through their platforms.</p>
<p>Niemann&rsquo;s counterattack hasn&rsquo;t ended in his pursuit of reparations, Niemann claims Carlsen couldn&rsquo;t handle losing to him, implying through his court filing that Carlsen&rsquo;s actions further support his notorious &ldquo;inability to cope with defeat.&rdquo;<sup id="fnref:20"><a class="footnote-ref" href="#fn:20">20</a></sup> The court filing states that Carlsen&rsquo;s actions were taken in an attempt to solidify his status as &ldquo;king of chess&rdquo;<sup id="fnref2:20"><a class="footnote-ref" href="#fn:20">20</a></sup> so he could complete his company&rsquo;s buyout by Chess.com - a <em>$82.9 million</em> acquisition.<sup id="fnref:21"><a class="footnote-ref" href="#fn:21">21</a></sup> </p>
<p>Niemann&rsquo;s victory over the world champion, &ldquo;should have propelled Niemann&rsquo;s career to the next level and allowed him to continue realizing his enormous potential as the next great American chess player.&rdquo;<sup id="fnref3:20"><a class="footnote-ref" href="#fn:20">20</a></sup> Yet, &ldquo;Unbeknownst to Niemann at the time, Defendants would do whatever it took to ensure that this would never happen.&rdquo;<sup id="fnref4:20"><a class="footnote-ref" href="#fn:20">20</a></sup></p>
<center>
  <iframe src="https://drive.google.com/file/d/1Gtqr3ASuJxgTa3li6C0mxTj4dTvbuYLU/preview" width="100%" height="600" allow="autoplay"></iframe>
</center>

<p>It&rsquo;s worth mentioning again that Niemann has publically admitted to cheating with aid from electronic devices in online matches, once at age 12 and again at age 16. Niemann referred to one of these instances as &ldquo;an absolutely ridiculous mistake&rdquo;<sup id="fnref:22"><a class="footnote-ref" href="#fn:22">22</a></sup>, while maintaining that he had never cheated in a tournament with prize money. </p>
<p>A couple of weeks after their initial accusations, <a href="https://www.chess.com/home">Chess.com</a> released a formal, 72-page report (found below) outlining an investigation into Niemann&rsquo;s play, and alleging that <strong>Niemann has likely cheated with electronic aid in more than 100 games, and as recently as 2020</strong>, including in matches where money was on the line. The magnitude of Niemann&rsquo;s alleged cheating scandal, as presented in <a href="https://www.chess.com/home">Chess.com</a>&rsquo;s report, proves to be much larger and longer-lasting than Niemann publically admitted. <a href="https://www.chess.com/home">Chess.com</a>&rsquo;s investigation relied on a variety of analytical tools to compare the moves of Niemann to those recommended by chess engines, and noted &ldquo;many remarkable signals and unusual patterns in Hans&rsquo; path as a player.”<sup id="fnref2:13"><a class="footnote-ref" href="#fn:13">13</a></sup> The site claims that &ldquo;while [they] don&rsquo;t doubt that Hans is a talented player, we note that his results are statistically extraordinary&rdquo;<sup id="fnref3:13"><a class="footnote-ref" href="#fn:13">13</a></sup>, and their investigation into Niemann&rsquo;s gameplay has uncovered &ldquo;blatant cheating&rdquo;.<sup id="fnref4:13"><a class="footnote-ref" href="#fn:13">13</a></sup> <strong>The report states that Niemann privately confessed to these allegations and that his Chess.com account was subsequently closed in 2020.</strong></p>
<p>In a private letter to Niemann, Chess.com&rsquo;s Chief Chess Officer, Danny Rechsch writes &ldquo;We are prepared to present strong statistical evidence that confirms each of those cases above, as well as clear &lsquo;toggling&rsquo; vs &lsquo;non-toggling&rsquo; evidence, where you perform much better while toggling to a different screen during your moves&rdquo;.<sup id="fnref5:13"><a class="footnote-ref" href="#fn:13">13</a></sup> While the report outlines that <a href="https://www.chess.com/home">Chess.com</a> has historically treated bans as a private matter, the ongoing accusations and Niemann&rsquo;s ban from the site&rsquo;s Global Championship spurred the platform to provide the investigation that provided justification for their decisions. </p>
<center>
  <iframe src="https://drive.google.com/file/d/11IokKgTVSXdpYEzAuyViIleSZ_2wl0ag/preview" width="100%" height="600" allow="autoplay"></iframe>
</center>

<div class="codehilite"><pre><span></span><code>
</code></pre></div>

<p>While this evidence against Niemann appears to be overwhelming, it&rsquo;s important to remember that the Sinquefield Cup is an over-the-board tournament. Cheating online and over the board are two entirely separate entities, no amount of online cheating in the world provides sufficient reason to accuse Hans of over-the-board cheating, as the act itself is a different task that would require extreme preparation to achieve. Thus, in face of a lack of evidence to support over-the-board cheating allegations against Niemann, the Von Niemann Probe was born. In an attempt to further the investigation into this scandal, we developed an <abbr title="A Family of microcontrollers developed since 1996 by Atmel">AVR</abbr>-based Bluetooth telegraphing shoe insole to test the feasibility of creating and using an over-the-board chess cheating aid.</p>
<div class="admonition failure">
<p class="admonition-title">Cheating in Chess</p>
<p><strong><em>Cheating in chess, whether online or over the board, is wrong and ruins the game for everyone.</em></strong> This project has been published to showcase the possibility of such a device&rsquo;s existence/use, and should not be recreated with the intent of using it for genuine foul play.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Name Orgins</p>
<p>The Von Niemann Probe is named after a theoretical self-replicating space probe known as the Von Neumann Probe, named after legendary 20th century Hungarian-American mathematician <em>John Von Neumann</em>. The Von Neumann Probe is regarded as the optimal way to explore the cosmos, as it can mine asteroids and leverage the exponential growth of its progeny to more efficiently visit star systems. And, coincidentally, probes are also medical devices that can be used to explore one&rsquo;s bowels. Thus, we settled on naming our device the Von Niemann Probe.</p>
</div>
<figure>
<p><a align="right" class="md-button md-button--primary" href="https://github.com/Twarner491/VonNiemannProbe">Von Niemann Probe Repository <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></span></a></p>
</figure>
<h2 id="telegraph-design">Telegraph Design<a class="headerlink" href="#telegraph-design" title="Permanent link">&para;</a></h2>
<h3 id="pcb-design-integration"><abbr title="Printed Circuit Board">PCB</abbr> Design &amp; Integration<a class="headerlink" href="#pcb-design-integration" title="Permanent link">&para;</a></h3>
<p>At the heart of the Von Niemann Probe lies an <abbr title="A Family of microcontrollers developed since 1996 by Atmel">AVR</abbr> ATtiny 412-based Bluetooth telegraph. This <abbr title="Printed Circuit Board">PCB</abbr> is capable of interpreting Bluetooth serial data from our chess engine (see Step 3), and translating the signal to pulses of a vibration motor. Before starting any <abbr title="Printed Circuit Board">PCB</abbr> design work in Autodesk EAGLE, I took some time to write out these expectations for the systems operating principle and then began the <abbr title="Printed Circuit Board">PCB</abbr> schematic. The VNP mainboard is a barebones ATtiny 412 setup, including voltage regulation and smoothing capacitors, as well as headers for connection to a Bluetooth module, vibration motor, and battery power.</p>
<p>The schematic includes headers for an HC-06, with serial connections to the ATTiny 412, and a shared power line with both the <abbr title="Integrated Circuit">IC</abbr> and Vibration Motor. This vibration motor is wired both to common <abbr title="Ground / Common Drain (-)">GND</abbr> on the <abbr title="Printed Circuit Board">PCB</abbr>, as well as to <em>Digital Pin 2</em>, allowing the <abbr title="Integrated Circuit">IC</abbr> to pulse the motor to convey moves in morse code.</p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/VNPSchematic.jpg" width="100%" /></p>
</figure>
<p>With this schematic done, I moved on to generating my final board file. The <abbr title="Printed Circuit Board">PCB</abbr> is built around the rectangular nature of the HC-06 Bluetooth module - one of these modules is placed in the center of the <abbr title="Printed Circuit Board">PCB</abbr>, allowing for an as-compact-as-possible footprint ideal for fitting in the VNP&rsquo;s discrete insole body (see Step 2). Just above the HC-06 module lies the ATtiny 412 circuit and <abbr title="Unified Program and Debug Interface">UPDI</abbr> programming pins, as well as a cutout and mounting points for the telegraph&rsquo;s vibration motor. The entire <abbr title="Printed Circuit Board">PCB</abbr> is designed to be mounted inside the VNP insole with M3 screws and has been designed to maintain a large, shared surface area with the 3D-printed insole to ensure the transfer of vibration from the telegraph.</p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/VNPBoard.jpg" width="100%" /></p>
</figure>
<center>
<iframe src="https://gmail5303747.autodesk360.com/shares/public/SH286ddQT78850c0d8a4da13aa451c73b438?mode=embed" width="100%" height="650" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>
</center>

<h3 id="parametric-shoe-insole">Parametric Shoe Insole<a class="headerlink" href="#parametric-shoe-insole" title="Permanent link">&para;</a></h3>
<p>To prove the feasibility of the accusations placed against Hans Niemann, the Von Niemann Probe (VNP) must be robust enough to see consistent use, while remaining discrete enough to not be detected. With this in mind, we selected to place our Bluetooth telegraph inside the body of a parametric shoe insole. The VNP was designed in Autodesk&rsquo;s Fusion 360, and makes heavy use of the software&rsquo;s Parametric Engine, allowing a custom insole to be generated for all foot sizes. Using the shoe size standards found in the table below, an insole may be generated to fit your exact foot dimensions. <em>Note - the sizes included in the table below are Mens, as that is the style of shoe both Jack and I wear - be sure to convert your shoe size accordingly.</em></p>
<figure>
<p><img alt="Diagram of foot dimensions for insole design" src="../../assets/images/VonNiemannProbe/footdi.png" width="80%" /></p>
<table>
<thead>
<tr>
<th>US Size</th>
<th>UK Size</th>
<th>European Size</th>
<th>Japanese Size</th>
<th>Length <em>(S<sub>L</sub>)</em></th>
<th>Width <em>(S<sub>MW</sub>)</em></th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>5.5</td>
<td>39</td>
<td>25</td>
<td>23.5cm</td>
<td>8.9cm</td>
</tr>
<tr>
<td>6.5</td>
<td>6</td>
<td>39/40</td>
<td>25.5</td>
<td>24.1cm</td>
<td>9cm</td>
</tr>
<tr>
<td>7</td>
<td>6.5</td>
<td>40</td>
<td>26</td>
<td>24.4cm</td>
<td>9.2cm</td>
</tr>
<tr>
<td>7.5</td>
<td>7</td>
<td>40/41</td>
<td>26.5</td>
<td>24.8cm</td>
<td>9.4cm</td>
</tr>
<tr>
<td>8</td>
<td>7.5</td>
<td>41</td>
<td>27</td>
<td>25.4cm</td>
<td>9.5cm</td>
</tr>
<tr>
<td>8.5</td>
<td>8</td>
<td>41/42</td>
<td>27.5</td>
<td>25.7cm</td>
<td>9.7cm</td>
</tr>
<tr>
<td>9</td>
<td>8.5</td>
<td>42</td>
<td>28</td>
<td>26cm</td>
<td>9.8cm</td>
</tr>
<tr>
<td>9.5</td>
<td>9</td>
<td>42/43</td>
<td>28.5</td>
<td>26.7cm</td>
<td>10cm</td>
</tr>
<tr>
<td>10</td>
<td>9.5</td>
<td>43</td>
<td>29</td>
<td>27cm</td>
<td>10.2cm</td>
</tr>
<tr>
<td>10.5</td>
<td>10</td>
<td>43/44</td>
<td>29.5</td>
<td>27.3cm</td>
<td>10.3cm</td>
</tr>
<tr>
<td>11</td>
<td>10.5</td>
<td>44</td>
<td>30</td>
<td>28.9cm</td>
<td>10.5cm</td>
</tr>
<tr>
<td>11.5</td>
<td>11</td>
<td>44/45</td>
<td>31</td>
<td>28.3cm</td>
<td>10.6cm</td>
</tr>
<tr>
<td>12</td>
<td>11.5</td>
<td>45</td>
<td>32</td>
<td>28.6cm</td>
<td>10.8cm</td>
</tr>
<tr>
<td>12.5</td>
<td>12</td>
<td>45/46</td>
<td></td>
<td>29.2cm</td>
<td>11cm</td>
</tr>
<tr>
<td>13</td>
<td>12.5</td>
<td>46</td>
<td></td>
<td>29.5cm</td>
<td>11.1cm</td>
</tr>
<tr>
<td>13.5</td>
<td>13</td>
<td>46/47</td>
<td></td>
<td>30.2cm</td>
<td>11.3cm</td>
</tr>
<tr>
<td>14</td>
<td>13.5</td>
<td>47</td>
<td></td>
<td>31cm</td>
<td>11.4cm</td>
</tr>
<tr>
<td>14.5</td>
<td>14</td>
<td>47/48</td>
<td></td>
<td>31cm</td>
<td>11.6cm</td>
</tr>
<tr>
<td>15</td>
<td>14.5</td>
<td>48</td>
<td></td>
<td>31.4cm</td>
<td>11.7cm</td>
</tr>
</tbody>
</table>
<p><img alt="" src="../../assets/images/VonNiemannProbe/footgraph.png" width="80%" /></p>
</figure>
<p>A custom insole will be generated after updating the model with your foot Length <em>(S<sub>L</sub>)</em> &amp; Width <em>(S<sub>MW</sub>)</em> via Fusion&rsquo;s <em>Change Parameters</em> tool. Paste in your foot length <em>(S<sub>L</sub>)</em> in the <em>InsoleLegnth</em> expression input, and repeat with your foot width <em>(S<sub>MW</sub>)</em> and the <em>InsoleWidth</em> expression input.</p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/FusionParameters.png" width="100%" /></p>
</figure>
<p>After establishing the model&rsquo;s parameters and extruding a basic shape, I drafted the insole&rsquo;s outer edge to allow the insole to fit the angled inner walls of shoes, before using Fusion 360&rsquo;s <em>Surface</em> workspace to ad a 3D profile to the top of the insole.</p>
<figure>
<p><img align="left" alt="" src="../../assets/images/VonNiemannProbe/extrudeFusion.png" width="47.35%" />
<img align="right" alt="" src="../../assets/images/VonNiemannProbe/formedFusion.png" width="48%" /></p>
</figure>
<p>The insole consists of two main parts, the body which is the bulk of the insole itself, and the lid, which screws to the bottom of the body, covering the electronics compartment. The body of the insole consists of mounting points for the main <abbr title="Printed Circuit Board">PCB</abbr>, as well as a 1000mah <abbr title="Lithium Polymer">LiPo</abbr> battery, a <abbr title="Universal Serial Bus">USB</abbr>-C <abbr title="Lithium Polymer">LiPo</abbr> charging board, a power switch, and a 3.3v to 5v boost converter. The lid not only hides the VNP&rsquo;s electronics system from sight but also redistributes the load placed upon the insole when a user is standing on it.  </p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/electronicsVNP.png" width="100%" /></p>
</figure>
<center>
  <iframe src="https://gmail5303747.autodesk360.com/shares/public/SH286ddQT78850c0d8a4e77414dd384645c8?mode=embed" width="100%" height="650" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>

</center>

<h2 id="chess-engine">Chess Engine<a class="headerlink" href="#chess-engine" title="Permanent link">&para;</a></h2>
<p>The Von Niemann Probe is useless without a competent artificial intelligence running the show behind the scenes, obviously requiring a hefty amount of code to get it to work properly. I decided to build the brains around Stockfish, a famous chess engine that already has a functioning Python integration and also happens to be the highest-rated engine at the time of writing. For reference, the engine plays at a 4000 level, while the current highest-rated player, Magnus Carlsen, is currently sitting at about 3200. Safe to say, Stockfish is more than sufficient for the players our insole will encounter who are obviously considerably worse than Carlsen.</p>
<div class="admonition warning">
<p class="admonition-title">Python Dependencies</p>
<p><strong>Various Python dependencies are needed to run the chess engine script</strong>, but overall the installation is pretty lightweight. Install commands for all Python dependencies are below, any release past Python 3.7 will work.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip install regex
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>pip install python-chess
</code></pre></div>
</div>
<h3 id="downloading-configuring-stockfish">Downloading &amp; Configuring Stockfish<a class="headerlink" href="#downloading-configuring-stockfish" title="Permanent link">&para;</a></h3>
<p>First, I downloaded Stockfish and extracted it locally on my Windows PC. I used Version 15 in this project. A more current version can be downloaded from <a href="https://stockfishchess.org/download/">stockfishchess.org</a> or use this <a href="https://stockfishchess.org/files/stockfish_15_win_x64_avx2.zip">permanent download link</a> of the version that I used during development.</p>
<p>Next, I researched the Stockfish Python module and integrated it into a continuous loop in Python that would allow it to play games repeatedly without requiring the relaunching of the code. The module is pretty simple to instantiate, but it does feature a few optional parameters that can regulate its strength and how much hardware it occupies locally.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>stockfishPath = &quot;C:/…&quot; #replace with the path to your Stockfish exe. 
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>#Note - the path may only contain forward slashes, no backslashes.
</code></pre></div>
<p>I began by adding a path variable to my Python program that stores the local path of the Stockfish installation. The path can be found by navigating to the folder that stores Stockfish and finding the .exe file inside of the folder. I then placed this path into the variable, making sure to replace the backslashes that windows copies with for forward slashes. The code will not run with backslashes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>fish = Stockfish(r&quot;{0}&quot;.format(stockfishPath),
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>depth=18, parameters={&quot;Threads&quot;: 4, &quot;Hash&quot;: 256, &quot;UCI_LimitStrength&quot;: &quot;false&quot;}) #stockfish object declaration, can regulate strength
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>print(&quot;WDL Accepted &quot; + str(fish.does_current_engine_version_have_wdl_option()))
</code></pre></div>
<p>I then configured Stockfish inside of the program. The above snippet instantiates stockfish, creating an object called &ldquo;fish&rdquo; that can be called using the Python Stockfish module.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>print(&quot;Board State &quot; + fish.get_board_visual()) #prints unicode image of current board state
</code></pre></div>
<p>The Python Stockfish module also features a function that prints a Unicode display of the current board state! This proved very useful during debugging to follow along with games that are not being played physically.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>while True:
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    isMate = False
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    print(&quot;side of stockfish:&quot;)
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    fishSide = input()
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    playGame(fishSide)
</code></pre></div>
<p>I then created an infinite loop that takes the side of the player wearing the insole that launches one of two loops that allow games to be played inside of the playGame() function.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>def playGame(side):
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    global legal; global legalMoves
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    global board; global isMate; global morseMove; 
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    mate = False
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    turns = 0; i = 0
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    board = chess.Board()
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    print(&quot;fish playing as &quot; + side)
</code></pre></div>
<p>Several declarations occur at the top of the <em>playGame()</em> function regardless of what side Stockfish is on. These lines help keep track of legality and reset the state of the board in the two modules that track it. The importance of these modules is detailed later on in this section.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>if side == &quot;white&quot;:
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>        while mate == False:
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>            bestMove = fish.get_best_move(1000)
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>            fish.make_moves_from_current_position([bestMove]);
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>            chessMove = chess.Move.from_uci(bestMove) #create chessMove 
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>            print(&quot;whitefish plays &quot; + bestMove)
</code></pre></div>
<p>I decided to start by writing code for games for when the engine is generating moves for the white pieces. Stockfish will immediately generate a move in this case so this made early development a bit easier. The above snippet generates the optimal move from the starting position and plays it.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>print(&quot;black move:&quot;) #request player move
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>move = input()
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>#The above lines request the move of the engine&#39;s opponent that is playing on the black pieces.
</code></pre></div>
<p>After black&rsquo;s move is input, one turn has passed, and now it is time for the engine to respond to the human player&rsquo;s move. But before that can happen, the program needs to check the legality of the Stockfish move. If the Stockfish module is passed an illegal move that cannot be played given a current board position, it crashes. So I needed to create a function to test the legality of moves before passing them to the Stockfish module to avoid this potential point of failure.</p>
<h3 id="checking-move-legality">Checking Move Legality<a class="headerlink" href="#checking-move-legality" title="Permanent link">&para;</a></h3>
<p>While the Python Stockfish module is robust and does have many useful features, it does not natively feature a function to check the legality of a move. As such, I decided to add the python-chess module to run a legality check on each move before passing it to Stockfish, prompting the user to enter another move if a move is not legal, preventing crashes due to misinput.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>board = chess.Board(); #create chess board object
</code></pre></div>
<p>The above function call creates a Board object that allows for the calling of the many functions included in the python-chess module.</p>
<p>The python-chess module features a board.is_legal() function that checks the legality of a formatted move object given the current state of a board object. It returns a boolean that reflects the legality of a move. However, it needs to be passed a chess.Move object which must be created using letters and numbers that can appear in chess moves. As such, any input that is incorrect, say &ldquo;n9z0&rdquo; would not create a move object and would trigger a crash. Therefore, it is necessary to verify that input only contains properly formatted characters that can actually exist in a chess move before trying to use the is_legal() function.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>badChars = [&quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;,
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>&quot;9&quot;, &quot;0&quot;] #chars that can&#39;t be in a legal chess move
</code></pre></div>
<p>I started by creating a dict that contains all of the characters that cannot appear in a legal chess move.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>for char in move: #check if badChars exist in move
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>        i = 0 #reset iterating var
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>        while i &lt; len(badChars):
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>            badChar = badChars[i]
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>            if char == badChar:
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>                print(char + &#39; is ILLEGAL&#39;)
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>                noBadChars = False #set bool to reflect bad char
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>            if char.isalpha() == True:
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>                charCount += 1 #reflect that at least 1 char in string
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>            if char.isdigit() == True:
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>                numCount += 1 #reflect that at least one number in string
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>            i += 1
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>            #print(char + &quot;is legal&quot;) #debug bad chars function
</code></pre></div>
<p>I then wrote some code to iterate through each character in a move received as input and verify that it contains only legal characters.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>if len(move) != 4 and len(move) != 5: #solve edge case where small string doesn&#39;t break other rules
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    noBadChars = False;
</code></pre></div>
<p>I also added a quick check to verify that a move actually contains 4 characters. A move object cannot be created by any other number of characters, so this check is useful in preventing crashes due to misinput.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>if noBadChars == True: #only creative move objects if correct formatting
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>        myMove = chess.Move.from_uci(move)
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>        legal = board.is_legal(myMove)
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>        print(&quot;Legal? &quot; + str(legal))
</code></pre></div>
<p>If the user input does not contain any illegal characters and is 4 characters in length, then it can be made into a chess.Move object in the python-chess module and passed to the is_legal() function. The above snippet does precisely that.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>if legal and noBadChars: #move can only happen if legal and doesn&#39;t contain illegal chars
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>        fish.make_moves_from_current_position([move])
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>        chessMove = chess.Move.from_uci(move)
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>        board.push_san(move)
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>        return #back to game loop
</code></pre></div>
<p>If the player&rsquo;s move is legal, then it is added to the games being tracked by python-chess and Stockfish. After the move is played, the program returns to the playGame() parent function and the game will continue with a move from Stockfish.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>else:
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    print(&quot;illegal move, input new move:&quot;)
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    newMove = input()
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    getPlayerMove(newMove)
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    return #back to game loop
</code></pre></div>
<p>If the move is not legal, the function getPlayerMove() function will recursively call back to itself until a legal move is received, at which point it will return to the playGame() parent function and the game will continue.</p>
<h3 id="morse-code-translation">Morse Code Translation<a class="headerlink" href="#morse-code-translation" title="Permanent link">&para;</a></h3>
<p>After getting the legality function to work, I began focusing on solving the core challenge of this project: sending the moves generated by Stockfish to a shoe insole. I initially wrote code to translate the moves into Morse Code, but quickly discovered that due to the short nature of chess moves I could save a lot of time by just pulsing a vibrating motor for each additional index in the alphabet or number line a certain character occupied.</p>
<p>For example, a C in morse code is -<em>-</em>, which would take 10 seconds to buzz assuming a dot length of 1 second where a 1:3 dot:dash ratio is established with a wait time of 1 dot between each character. This is standard. However, a simple *** of 0.1 second pulses with 0.05 second pauses in between accomplishes the same thing in much less time and is easily understood to be a C, because chess moves will always follow a character:number:character:number format. As such, I decided that this way would be faster and would not require me to learn 16 characters of Morse Code. Both encoding versions are in our Github repository for the project if for some reason you prefer Morse Code. For the sake of concision I am only going to include the code for the shorter encoding method that I described which is also the one that is used in all of our testing videos.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>morseDict = { &#39;a&#39;:&#39;.&#39;, &#39;b&#39;:&#39;..&#39;,
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>   &#39;c&#39;:&#39;...&#39;, &#39;d&#39;:&#39;....&#39;, &#39;e&#39;:&#39;.....&#39;,
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>   &#39;f&#39;:&#39;......&#39;, &#39;g&#39;:&#39;.......&#39;, &#39;h&#39;:&#39;........&#39;,
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>   &#39;1&#39;:&#39;.&#39;, &#39;2&#39;:&#39;..&#39;, &#39;3&#39;:&#39;...&#39;,
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>   &#39;4&#39;:&#39;....&#39;, &#39;5&#39;:&#39;.....&#39;, &#39;6&#39;:&#39;......&#39;,
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>   &#39;7&#39;:&#39;.......&#39;, &#39;8&#39;:&#39;........&#39;}
</code></pre></div>
<p>I began by creating a dict of all of the dot values for each letter and number.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>def toMorse(move): #convert move to morse code
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    ret = &quot;&quot; #empty morse conversion
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    newConvert = &quot;&quot; #empty mid-conversion string
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    for char in move:
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>        #print(&quot;converting &quot; + char) #debug print
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>        newConvert = morseDict[char] #take key of char index in morse dict
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>        ret += newConvert + &#39; &#39; #add morse for new char to morse string
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>    print(&quot;Morse-Converted Move: &quot; + ret)
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>    return ret
</code></pre></div>
<p>The above function takes a move played by Stockfish and converts it to a format that is almost ready to be sent via Bluetooth to the insole.</p>
<p>At this point the move &ldquo;e2e4&rdquo; would look like <em>&rdquo;..... .. ..... ....&rdquo;</em> meaning it is ready to be pulsed to the wearer of the device once it is sent to and received by the insole.</p>
<h3 id="sending-moves-via-bluetooth">Sending Moves Via Bluetooth<a class="headerlink" href="#sending-moves-via-bluetooth" title="Permanent link">&para;</a></h3>
<p>The job of the Python program each move ends with the sending of the optimal move to the user of the insole. This is accomplished by connecting the machine that the program is running on to the HC-05 or HC-06 Bluetooth module located in the device and sending the moves via a COM port.</p>
<p>Whenever you connect to the Bluetooth module, it will take on a different COM port. This address can be found in Windows settings by searching &ldquo;Device Manager&rdquo; or pressing ⊞+x and navigating to Device Manager. Once in this interface, navigate to &ldquo;Bluetooth&rdquo; and find the Bluetooth module.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>port = &quot;COM10&quot; #set bluetooth port
</code></pre></div>
<p>Once you find the port, change the value of the port string to whatever value your computer reflects. The Bluetooth module will have a couple of values that it takes on on your machine, so you might not have to change it every time you reconnect, but it is certainly best practice to check just to make sure. These modules can be pretty buggy sometimes, but usually just forgetting the device and reconnecting solves the problem!</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>ser = serial.Serial(port, 9600, timeout = 1)
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>print(&quot;serial opened&quot;)
</code></pre></div>
<p>The above snippet establishes a connection to the Bluetooth module at 9600 baud using the pre-specified port and prints a confirmation. After this runs successfully, a game can be started and the moves will be sent to the shoe insoel automatically.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>def sendMove(morse):
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    print(morse) #print morse move with spaces replaced with 9 - easier to parse on arduino side as empty bytes hard to work with
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    for char in morse:
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>        tempChar = char.encode() #temporary placeholder set to current char in morse move
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>        ser.write(tempChar) #send individual character of final morse message encoded in utf-8
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    print(&quot;sent move&quot;)
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    return
</code></pre></div>
<p>The above function is responsible for sending the moves. During testing, I found that sending one byte at a time is easier to parse on the insole, so this function simply iterates through the converted string and sends each byte one by one. After all of the bytes are sent, it returns to the parent function and the game continues.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>morse = re.sub(&quot;[ ]&quot;, &quot;9&quot;, morse)
</code></pre></div>
<p>I realized that spaces can behave weirdly when sent over Bluetooth using UTF-8, so instead of further researching the problem I simply set all of the spaces to a value that cannot appear in a chess move before sending them to the insole. 9&rsquo;s are simply treated as a constant delay in the C++ code that runs on the insole.</p>
<p>At this point, the work of the Python function is complete. A player move has been input, checked for legality, and an engine move has been generated, converted, and sent to the insole. Once the player wearing the device makes the move on the board and the human player responds, this process will continue until Stockfish triumphs!</p>
<div style="height:660px; overflow:scroll;">

  <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bluetooth Interfacing Chess Engine</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">  1</a></span>
<span class="normal"><a href="#__codelineno-21-2">  2</a></span>
<span class="normal"><a href="#__codelineno-21-3">  3</a></span>
<span class="normal"><a href="#__codelineno-21-4">  4</a></span>
<span class="normal"><a href="#__codelineno-21-5">  5</a></span>
<span class="normal"><a href="#__codelineno-21-6">  6</a></span>
<span class="normal"><a href="#__codelineno-21-7">  7</a></span>
<span class="normal"><a href="#__codelineno-21-8">  8</a></span>
<span class="normal"><a href="#__codelineno-21-9">  9</a></span>
<span class="normal"><a href="#__codelineno-21-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-21-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-21-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-21-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-21-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-21-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-21-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-21-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-21-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-21-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-21-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-21-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-21-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-21-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-21-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-21-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-21-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-21-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-21-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-21-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-21-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-21-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-21-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-21-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-21-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-21-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-21-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-21-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-21-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-21-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-21-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-21-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-21-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-21-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-21-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-21-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-21-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-21-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-21-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-21-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-21-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-21-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-21-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-21-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-21-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-21-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-21-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-21-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-21-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-21-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-21-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-21-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-21-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-21-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-21-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-21-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-21-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-21-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-21-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-21-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-21-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-21-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-21-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-21-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-21-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-21-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-21-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-21-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-21-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-21-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-21-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-21-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-21-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-21-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-21-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-21-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-21-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-21-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-21-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-21-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-21-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-21-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-21-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-21-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-21-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-21-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-21-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-21-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-21-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-21-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-21-100">100</a></span>
<span class="normal"><a href="#__codelineno-21-101">101</a></span>
<span class="normal"><a href="#__codelineno-21-102">102</a></span>
<span class="normal"><a href="#__codelineno-21-103">103</a></span>
<span class="normal"><a href="#__codelineno-21-104">104</a></span>
<span class="normal"><a href="#__codelineno-21-105">105</a></span>
<span class="normal"><a href="#__codelineno-21-106">106</a></span>
<span class="normal"><a href="#__codelineno-21-107">107</a></span>
<span class="normal"><a href="#__codelineno-21-108">108</a></span>
<span class="normal"><a href="#__codelineno-21-109">109</a></span>
<span class="normal"><a href="#__codelineno-21-110">110</a></span>
<span class="normal"><a href="#__codelineno-21-111">111</a></span>
<span class="normal"><a href="#__codelineno-21-112">112</a></span>
<span class="normal"><a href="#__codelineno-21-113">113</a></span>
<span class="normal"><a href="#__codelineno-21-114">114</a></span>
<span class="normal"><a href="#__codelineno-21-115">115</a></span>
<span class="normal"><a href="#__codelineno-21-116">116</a></span>
<span class="normal"><a href="#__codelineno-21-117">117</a></span>
<span class="normal"><a href="#__codelineno-21-118">118</a></span>
<span class="normal"><a href="#__codelineno-21-119">119</a></span>
<span class="normal"><a href="#__codelineno-21-120">120</a></span>
<span class="normal"><a href="#__codelineno-21-121">121</a></span>
<span class="normal"><a href="#__codelineno-21-122">122</a></span>
<span class="normal"><a href="#__codelineno-21-123">123</a></span>
<span class="normal"><a href="#__codelineno-21-124">124</a></span>
<span class="normal"><a href="#__codelineno-21-125">125</a></span>
<span class="normal"><a href="#__codelineno-21-126">126</a></span>
<span class="normal"><a href="#__codelineno-21-127">127</a></span>
<span class="normal"><a href="#__codelineno-21-128">128</a></span>
<span class="normal"><a href="#__codelineno-21-129">129</a></span>
<span class="normal"><a href="#__codelineno-21-130">130</a></span>
<span class="normal"><a href="#__codelineno-21-131">131</a></span>
<span class="normal"><a href="#__codelineno-21-132">132</a></span>
<span class="normal"><a href="#__codelineno-21-133">133</a></span>
<span class="normal"><a href="#__codelineno-21-134">134</a></span>
<span class="normal"><a href="#__codelineno-21-135">135</a></span>
<span class="normal"><a href="#__codelineno-21-136">136</a></span>
<span class="normal"><a href="#__codelineno-21-137">137</a></span>
<span class="normal"><a href="#__codelineno-21-138">138</a></span>
<span class="normal"><a href="#__codelineno-21-139">139</a></span>
<span class="normal"><a href="#__codelineno-21-140">140</a></span>
<span class="normal"><a href="#__codelineno-21-141">141</a></span>
<span class="normal"><a href="#__codelineno-21-142">142</a></span>
<span class="normal"><a href="#__codelineno-21-143">143</a></span>
<span class="normal"><a href="#__codelineno-21-144">144</a></span>
<span class="normal"><a href="#__codelineno-21-145">145</a></span>
<span class="normal"><a href="#__codelineno-21-146">146</a></span>
<span class="normal"><a href="#__codelineno-21-147">147</a></span>
<span class="normal"><a href="#__codelineno-21-148">148</a></span>
<span class="normal"><a href="#__codelineno-21-149">149</a></span>
<span class="normal"><a href="#__codelineno-21-150">150</a></span>
<span class="normal"><a href="#__codelineno-21-151">151</a></span>
<span class="normal"><a href="#__codelineno-21-152">152</a></span>
<span class="normal"><a href="#__codelineno-21-153">153</a></span>
<span class="normal"><a href="#__codelineno-21-154">154</a></span>
<span class="normal"><a href="#__codelineno-21-155">155</a></span>
<span class="normal"><a href="#__codelineno-21-156">156</a></span>
<span class="normal"><a href="#__codelineno-21-157">157</a></span>
<span class="normal"><a href="#__codelineno-21-158">158</a></span>
<span class="normal"><a href="#__codelineno-21-159">159</a></span>
<span class="normal"><a href="#__codelineno-21-160">160</a></span>
<span class="normal"><a href="#__codelineno-21-161">161</a></span>
<span class="normal"><a href="#__codelineno-21-162">162</a></span>
<span class="normal"><a href="#__codelineno-21-163">163</a></span>
<span class="normal"><a href="#__codelineno-21-164">164</a></span>
<span class="normal"><a href="#__codelineno-21-165">165</a></span>
<span class="normal"><a href="#__codelineno-21-166">166</a></span>
<span class="normal"><a href="#__codelineno-21-167">167</a></span>
<span class="normal"><a href="#__codelineno-21-168">168</a></span>
<span class="normal"><a href="#__codelineno-21-169">169</a></span>
<span class="normal"><a href="#__codelineno-21-170">170</a></span>
<span class="normal"><a href="#__codelineno-21-171">171</a></span>
<span class="normal"><a href="#__codelineno-21-172">172</a></span>
<span class="normal"><a href="#__codelineno-21-173">173</a></span>
<span class="normal"><a href="#__codelineno-21-174">174</a></span>
<span class="normal"><a href="#__codelineno-21-175">175</a></span>
<span class="normal"><a href="#__codelineno-21-176">176</a></span>
<span class="normal"><a href="#__codelineno-21-177">177</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>    <span class="c1">#(c) Teddy Warner &amp; Jack Hollingsworth - 2022</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>    <span class="c1">#This work may be reproduced, modified, distributed, performed, and displayed</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>    <span class="c1">#for any purpose, but must acknowledge Teddy Warner  &amp; Jack Hollingsworth.</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>    <span class="c1">#Copyright is retained and must be preserved. The work is provided as is;</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>    <span class="c1">#no warranty is provided, and users accept all liability.</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>    <span class="c1">#download stockfish from https://stockfishchess.org/files/stockfish_15_win_x64_avx2.zip</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">stockfish</span><span class="w"> </span><span class="kn">import</span> <span class="n">Stockfish</span> <span class="c1">#pip install stockfish</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">chess</span> <span class="c1">#pip install python-chess</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">serial</span>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">re</span> <span class="c1">#pip install regex</span>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a>    <span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">fish</span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a>    <span class="k">global</span> <span class="n">legal</span><span class="p">;</span> <span class="k">global</span> <span class="n">legalMoves</span>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a>    <span class="k">global</span> <span class="n">moveAdjusted</span><span class="p">;</span> <span class="k">global</span> <span class="n">badChars</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a>    <span class="k">global</span> <span class="n">isMate</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseDict</span>
<a id="__codelineno-21-20" name="__codelineno-21-20"></a>    <span class="k">global</span> <span class="n">morseMove</span><span class="p">;</span> <span class="k">global</span> <span class="n">port</span> 
<a id="__codelineno-21-21" name="__codelineno-21-21"></a>    <span class="k">global</span> <span class="n">stockfishPath</span>
<a id="__codelineno-21-22" name="__codelineno-21-22"></a>
<a id="__codelineno-21-23" name="__codelineno-21-23"></a>    <span class="n">port</span> <span class="o">=</span> <span class="s2">&quot;COM10&quot;</span> <span class="c1">#set bluetooth port</span>
<a id="__codelineno-21-24" name="__codelineno-21-24"></a>
<a id="__codelineno-21-25" name="__codelineno-21-25"></a>    <span class="n">stockfishPath</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/jackh/Downloads/stockfish_15_win_x64_avx2/stockfish_15_win_x64_avx2/stockfish_15_x64_avx2.exe&quot;</span> <span class="c1">#replace with the path to your Stockfish exe. Note - the path may only contain forward slashes, no backslashes.</span>
<a id="__codelineno-21-26" name="__codelineno-21-26"></a>
<a id="__codelineno-21-27" name="__codelineno-21-27"></a>    <span class="n">morseDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;.-&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;-...&#39;</span><span class="p">,</span>
<a id="__codelineno-21-28" name="__codelineno-21-28"></a>      <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;-.-.&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="s1">&#39;-..&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span><span class="s1">&#39;.&#39;</span><span class="p">,</span>
<a id="__codelineno-21-29" name="__codelineno-21-29"></a>      <span class="s1">&#39;f&#39;</span><span class="p">:</span><span class="s1">&#39;..-.&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">:</span><span class="s1">&#39;--.&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;....&#39;</span><span class="p">,</span>
<a id="__codelineno-21-30" name="__codelineno-21-30"></a>      <span class="s1">&#39;1&#39;</span><span class="p">:</span><span class="s1">&#39;.----&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span><span class="s1">&#39;..---&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span><span class="s1">&#39;...--&#39;</span><span class="p">,</span>
<a id="__codelineno-21-31" name="__codelineno-21-31"></a>      <span class="s1">&#39;4&#39;</span><span class="p">:</span><span class="s1">&#39;....-&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span><span class="s1">&#39;.....&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span><span class="s1">&#39;-....&#39;</span><span class="p">,</span>
<a id="__codelineno-21-32" name="__codelineno-21-32"></a>      <span class="s1">&#39;7&#39;</span><span class="p">:</span><span class="s1">&#39;--...&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">:</span><span class="s1">&#39;---..&#39;</span><span class="p">}</span> <span class="c1">#morse dict for all chars in chess moves, other characters not needed here</span>
<a id="__codelineno-21-33" name="__codelineno-21-33"></a>
<a id="__codelineno-21-34" name="__codelineno-21-34"></a>    <span class="n">board</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Board</span><span class="p">();</span> <span class="c1">#create chess board object</span>
<a id="__codelineno-21-35" name="__codelineno-21-35"></a>
<a id="__codelineno-21-36" name="__codelineno-21-36"></a>    <span class="n">badChars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span>
<a id="__codelineno-21-37" name="__codelineno-21-37"></a>    <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">]</span> <span class="c1">#chars that can&#39;t be in a legal chess move</span>
<a id="__codelineno-21-38" name="__codelineno-21-38"></a>
<a id="__codelineno-21-39" name="__codelineno-21-39"></a>    <span class="n">morseMove</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#placeholder for morse code move, filled later</span>
<a id="__codelineno-21-40" name="__codelineno-21-40"></a>
<a id="__codelineno-21-41" name="__codelineno-21-41"></a>    <span class="n">fish</span> <span class="o">=</span> <span class="n">Stockfish</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stockfishPath</span><span class="p">),</span> 
<a id="__codelineno-21-42" name="__codelineno-21-42"></a>    <span class="n">depth</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Threads&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;Hash&quot;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span> <span class="s2">&quot;UCI_LimitStrength&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">})</span> <span class="c1">#stockfish object declaration, can regulate strength</span>
<a id="__codelineno-21-43" name="__codelineno-21-43"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WDL Accepted &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">does_current_engine_version_have_wdl_option</span><span class="p">()))</span>
<a id="__codelineno-21-44" name="__codelineno-21-44"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Board State &quot;</span> <span class="o">+</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">())</span> <span class="c1">#prints unicode image of current board state</span>
<a id="__codelineno-21-45" name="__codelineno-21-45"></a>
<a id="__codelineno-21-46" name="__codelineno-21-46"></a>    <span class="n">ser</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="mi">9600</span><span class="p">,</span> <span class="n">timeout</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">#open com port of hc-06 receiving, set to 9600 baud</span>
<a id="__codelineno-21-47" name="__codelineno-21-47"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;serial opened&quot;</span><span class="p">)</span>
<a id="__codelineno-21-48" name="__codelineno-21-48"></a>
<a id="__codelineno-21-49" name="__codelineno-21-49"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">playGame</span><span class="p">(</span><span class="n">side</span><span class="p">):</span>
<a id="__codelineno-21-50" name="__codelineno-21-50"></a>        <span class="k">global</span> <span class="n">legal</span><span class="p">;</span> <span class="k">global</span> <span class="n">legalMoves</span>
<a id="__codelineno-21-51" name="__codelineno-21-51"></a>        <span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">isMate</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseMove</span><span class="p">;</span> 
<a id="__codelineno-21-52" name="__codelineno-21-52"></a>        <span class="n">mate</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#checkmate state declaration</span>
<a id="__codelineno-21-53" name="__codelineno-21-53"></a>        <span class="n">turns</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#these could be the same, but easier to keep sep = SPAGHETTIOLI CODE MOMENT</span>
<a id="__codelineno-21-54" name="__codelineno-21-54"></a>        <span class="n">board</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Board</span><span class="p">();</span> <span class="c1">#declare chess board object in pychess module, for checking legality of moves</span>
<a id="__codelineno-21-55" name="__codelineno-21-55"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fish playing as &quot;</span> <span class="o">+</span> <span class="n">side</span><span class="p">)</span>
<a id="__codelineno-21-56" name="__codelineno-21-56"></a>        <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s2">&quot;white&quot;</span><span class="p">:</span>
<a id="__codelineno-21-57" name="__codelineno-21-57"></a>            <span class="k">while</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span> <span class="c1">#if game not over, play continues</span>
<a id="__codelineno-21-58" name="__codelineno-21-58"></a>                <span class="n">bestMove</span> <span class="o">=</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_best_move</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c1">#stockfish get best current move</span>
<a id="__codelineno-21-59" name="__codelineno-21-59"></a>                <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">bestMove</span><span class="p">]);</span> 
<a id="__codelineno-21-60" name="__codelineno-21-60"></a>                <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#create chessMove object in pychess, push it to board on next line</span>
<a id="__codelineno-21-61" name="__codelineno-21-61"></a>                <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#make move in pychess to keep up with stockfish game</span>
<a id="__codelineno-21-62" name="__codelineno-21-62"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;whitefish plays &quot;</span> <span class="o">+</span> <span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-21-63" name="__codelineno-21-63"></a>                <span class="n">morseMove</span> <span class="o">=</span> <span class="n">toMorse</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#call morse conversion of fish move</span>
<a id="__codelineno-21-64" name="__codelineno-21-64"></a>                <span class="n">sendMove</span><span class="p">(</span><span class="n">morseMove</span><span class="p">)</span> <span class="c1">#call to move sending function, arg is stockfish best move</span>
<a id="__codelineno-21-65" name="__codelineno-21-65"></a>                <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#returns state of checkmate</span>
<a id="__codelineno-21-66" name="__codelineno-21-66"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checkmate: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mate</span><span class="p">))</span> <span class="c1">#prints state of checkmate after every fish move</span>
<a id="__codelineno-21-67" name="__codelineno-21-67"></a>                <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-68" name="__codelineno-21-68"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory!&quot;</span><span class="p">)</span>
<a id="__codelineno-21-69" name="__codelineno-21-69"></a>                    <span class="k">return</span>
<a id="__codelineno-21-70" name="__codelineno-21-70"></a>                <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-21-71" name="__codelineno-21-71"></a>                <span class="n">legalMoves</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">legal_moves</span><span class="p">)</span> <span class="c1">#convert list to string</span>
<a id="__codelineno-21-72" name="__codelineno-21-72"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;black move:&quot;</span><span class="p">)</span> <span class="c1">#request player move</span>
<a id="__codelineno-21-73" name="__codelineno-21-73"></a>                <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-21-74" name="__codelineno-21-74"></a>                <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<a id="__codelineno-21-75" name="__codelineno-21-75"></a>                <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#check if player has won</span>
<a id="__codelineno-21-76" name="__codelineno-21-76"></a>                <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-77" name="__codelineno-21-77"></a>                  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, player victory&quot;</span><span class="p">)</span>
<a id="__codelineno-21-78" name="__codelineno-21-78"></a>                  <span class="k">return</span>
<a id="__codelineno-21-79" name="__codelineno-21-79"></a>                <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-21-80" name="__codelineno-21-80"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;board after &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moves:&quot;</span><span class="p">)</span>
<a id="__codelineno-21-81" name="__codelineno-21-81"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span> <span class="c1">#shows board from player perspective (white)</span>
<a id="__codelineno-21-82" name="__codelineno-21-82"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-21-83" name="__codelineno-21-83"></a>            <span class="k">return</span> <span class="c1">#return to infinite loop</span>
<a id="__codelineno-21-84" name="__codelineno-21-84"></a>        <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s2">&quot;black&quot;</span><span class="p">:</span>
<a id="__codelineno-21-85" name="__codelineno-21-85"></a>            <span class="n">legalMoves</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">legal_moves</span><span class="p">)</span> <span class="c1">#convert list to string</span>
<a id="__codelineno-21-86" name="__codelineno-21-86"></a>            <span class="k">while</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
<a id="__codelineno-21-87" name="__codelineno-21-87"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;white move:&quot;</span><span class="p">)</span>
<a id="__codelineno-21-88" name="__codelineno-21-88"></a>                <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-21-89" name="__codelineno-21-89"></a>                <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<a id="__codelineno-21-90" name="__codelineno-21-90"></a>                <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#check if player has won</span>
<a id="__codelineno-21-91" name="__codelineno-21-91"></a>                <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-92" name="__codelineno-21-92"></a>                  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, player victory&quot;</span><span class="p">)</span>
<a id="__codelineno-21-93" name="__codelineno-21-93"></a>                  <span class="k">return</span>
<a id="__codelineno-21-94" name="__codelineno-21-94"></a>                <span class="n">bestMove</span> <span class="o">=</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_best_move</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c1">#stockfish get best current move</span>
<a id="__codelineno-21-95" name="__codelineno-21-95"></a>                <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">bestMove</span><span class="p">]);</span> 
<a id="__codelineno-21-96" name="__codelineno-21-96"></a>                <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-21-97" name="__codelineno-21-97"></a>                <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-21-98" name="__codelineno-21-98"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;blackfish plays &quot;</span> <span class="o">+</span> <span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-21-99" name="__codelineno-21-99"></a>                <span class="n">morseMove</span> <span class="o">=</span> <span class="n">toMorse</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#get string of morse-converted move, not in use</span>
<a id="__codelineno-21-100" name="__codelineno-21-100"></a>                <span class="n">sendMove</span><span class="p">(</span><span class="n">morseMove</span><span class="p">)</span> <span class="c1">#send morse move via bluetooth</span>
<a id="__codelineno-21-101" name="__codelineno-21-101"></a>                <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#returns state of checkmate</span>
<a id="__codelineno-21-102" name="__codelineno-21-102"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checkmate: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mate</span><span class="p">))</span> <span class="c1">#prints state of checkmate after every fish move</span>
<a id="__codelineno-21-103" name="__codelineno-21-103"></a>                <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-104" name="__codelineno-21-104"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory!&quot;</span><span class="p">)</span>
<a id="__codelineno-21-105" name="__codelineno-21-105"></a>                    <span class="k">return</span>
<a id="__codelineno-21-106" name="__codelineno-21-106"></a>                <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-21-107" name="__codelineno-21-107"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;board after &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moves:&quot;</span><span class="p">)</span>
<a id="__codelineno-21-108" name="__codelineno-21-108"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">())</span> <span class="c1">#shows board from player perspective (black)</span>
<a id="__codelineno-21-109" name="__codelineno-21-109"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-21-110" name="__codelineno-21-110"></a>            <span class="k">return</span> <span class="c1">#return to infinite loop</span>
<a id="__codelineno-21-111" name="__codelineno-21-111"></a>
<a id="__codelineno-21-112" name="__codelineno-21-112"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">):</span>
<a id="__codelineno-21-113" name="__codelineno-21-113"></a>        <span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">moveAdjusted</span><span class="p">;</span> <span class="k">global</span> <span class="n">badChars</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseMove</span>
<a id="__codelineno-21-114" name="__codelineno-21-114"></a>        <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#reset no bad chars bool</span>
<a id="__codelineno-21-115" name="__codelineno-21-115"></a>        <span class="n">legal</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#reset illegal bool</span>
<a id="__codelineno-21-116" name="__codelineno-21-116"></a>        <span class="n">charCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">numCount</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-21-117" name="__codelineno-21-117"></a>        <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">move</span><span class="p">:</span> <span class="c1">#check if badChars exist in move</span>
<a id="__codelineno-21-118" name="__codelineno-21-118"></a>            <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#reset iterating var</span>
<a id="__codelineno-21-119" name="__codelineno-21-119"></a>            <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">badChars</span><span class="p">):</span>
<a id="__codelineno-21-120" name="__codelineno-21-120"></a>                <span class="n">badChar</span> <span class="o">=</span> <span class="n">badChars</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-21-121" name="__codelineno-21-121"></a>                <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="n">badChar</span><span class="p">:</span>
<a id="__codelineno-21-122" name="__codelineno-21-122"></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">char</span> <span class="o">+</span> <span class="s1">&#39; is ILLEGAL&#39;</span><span class="p">)</span>
<a id="__codelineno-21-123" name="__codelineno-21-123"></a>                    <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#set bool to reflect bad char</span>
<a id="__codelineno-21-124" name="__codelineno-21-124"></a>                <span class="k">if</span> <span class="n">char</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-125" name="__codelineno-21-125"></a>                    <span class="n">charCount</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">#reflect that at least 1 char in string</span>
<a id="__codelineno-21-126" name="__codelineno-21-126"></a>                <span class="k">if</span> <span class="n">char</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-21-127" name="__codelineno-21-127"></a>                    <span class="n">numCount</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">#reflect that at least one number in string</span>
<a id="__codelineno-21-128" name="__codelineno-21-128"></a>                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-21-129" name="__codelineno-21-129"></a>                <span class="c1">#print(char + &quot;is legal&quot;) #debug bad chars function</span>
<a id="__codelineno-21-130" name="__codelineno-21-130"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span> <span class="c1">#solve edge case where small string doesn&#39;t break other rules</span>
<a id="__codelineno-21-131" name="__codelineno-21-131"></a>            <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span><span class="p">;</span>
<a id="__codelineno-21-132" name="__codelineno-21-132"></a>        <span class="k">if</span> <span class="n">charCount</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">numCount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-21-133" name="__codelineno-21-133"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;numbers: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">numCount</span><span class="p">))</span>
<a id="__codelineno-21-134" name="__codelineno-21-134"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;chars &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">charCount</span><span class="p">))</span>
<a id="__codelineno-21-135" name="__codelineno-21-135"></a>            <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#change bool to reflect bad formatting</span>
<a id="__codelineno-21-136" name="__codelineno-21-136"></a>        <span class="k">if</span> <span class="n">noBadChars</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#only creative move objects if correct formatting</span>
<a id="__codelineno-21-137" name="__codelineno-21-137"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">move</span> <span class="o">+</span> <span class="s2">&quot; is good format&quot;</span><span class="p">)</span>
<a id="__codelineno-21-138" name="__codelineno-21-138"></a>            <span class="n">myMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#create move object frmo current player move, used to check legality</span>
<a id="__codelineno-21-139" name="__codelineno-21-139"></a>            <span class="n">legal</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_legal</span><span class="p">(</span><span class="n">myMove</span><span class="p">)</span> <span class="c1">#checks legality of desired move</span>
<a id="__codelineno-21-140" name="__codelineno-21-140"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Legal? &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">legal</span><span class="p">))</span>
<a id="__codelineno-21-141" name="__codelineno-21-141"></a>        <span class="k">if</span> <span class="n">legal</span> <span class="ow">and</span> <span class="n">noBadChars</span><span class="p">:</span> <span class="c1">#move can only happen if legal and doesn&#39;t contain illegal chars</span>
<a id="__codelineno-21-142" name="__codelineno-21-142"></a>            <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">move</span><span class="p">])</span><span class="c1">#plays legal player move in STOCKFISH</span>
<a id="__codelineno-21-143" name="__codelineno-21-143"></a>            <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#load legal player move</span>
<a id="__codelineno-21-144" name="__codelineno-21-144"></a>            <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#send player move to board tracker</span>
<a id="__codelineno-21-145" name="__codelineno-21-145"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;player plays &quot;</span> <span class="o">+</span> <span class="n">move</span><span class="p">)</span>
<a id="__codelineno-21-146" name="__codelineno-21-146"></a>            <span class="k">return</span> <span class="c1">#back to game loop</span>
<a id="__codelineno-21-147" name="__codelineno-21-147"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-21-148" name="__codelineno-21-148"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;illegal move, input new move:&quot;</span><span class="p">)</span>
<a id="__codelineno-21-149" name="__codelineno-21-149"></a>            <span class="n">newMove</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-21-150" name="__codelineno-21-150"></a>            <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">newMove</span><span class="p">)</span>
<a id="__codelineno-21-151" name="__codelineno-21-151"></a>            <span class="k">return</span> <span class="c1">#back to game loop</span>
<a id="__codelineno-21-152" name="__codelineno-21-152"></a>
<a id="__codelineno-21-153" name="__codelineno-21-153"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">toMorse</span><span class="p">(</span><span class="n">move</span><span class="p">):</span> <span class="c1">#convert move to morse code</span>
<a id="__codelineno-21-154" name="__codelineno-21-154"></a>        <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#empty morse conversion</span>
<a id="__codelineno-21-155" name="__codelineno-21-155"></a>        <span class="n">newConvert</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#empty mid-conversion string</span>
<a id="__codelineno-21-156" name="__codelineno-21-156"></a>        <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">move</span><span class="p">:</span>
<a id="__codelineno-21-157" name="__codelineno-21-157"></a>            <span class="c1">#print(&quot;converting &quot; + char) #debug print</span>
<a id="__codelineno-21-158" name="__codelineno-21-158"></a>            <span class="n">newConvert</span> <span class="o">=</span> <span class="n">morseDict</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="c1">#take key of char index in morse dict</span>
<a id="__codelineno-21-159" name="__codelineno-21-159"></a>            <span class="n">ret</span> <span class="o">+=</span> <span class="n">newConvert</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="c1">#add morse for new char to morse string</span>
<a id="__codelineno-21-160" name="__codelineno-21-160"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Morse-Converted Move: &quot;</span> <span class="o">+</span> <span class="n">ret</span><span class="p">)</span>
<a id="__codelineno-21-161" name="__codelineno-21-161"></a>        <span class="k">return</span> <span class="n">ret</span>
<a id="__codelineno-21-162" name="__codelineno-21-162"></a>
<a id="__codelineno-21-163" name="__codelineno-21-163"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">sendMove</span><span class="p">(</span><span class="n">morse</span><span class="p">):</span>
<a id="__codelineno-21-164" name="__codelineno-21-164"></a>        <span class="n">morse</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;[ ]&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="n">morse</span><span class="p">)</span>
<a id="__codelineno-21-165" name="__codelineno-21-165"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">morse</span><span class="p">)</span> <span class="c1">#print morse move with spaces replaced with 9 - easier to parse on arduino side as empty bytes hard to work with</span>
<a id="__codelineno-21-166" name="__codelineno-21-166"></a>        <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">morse</span><span class="p">:</span>
<a id="__codelineno-21-167" name="__codelineno-21-167"></a>            <span class="n">tempChar</span> <span class="o">=</span> <span class="n">char</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span> <span class="c1">#temporary placeholder set to current char in morse move</span>
<a id="__codelineno-21-168" name="__codelineno-21-168"></a>            <span class="n">ser</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tempChar</span><span class="p">)</span> <span class="c1">#send individual character of final morse message encoded in utf-8</span>
<a id="__codelineno-21-169" name="__codelineno-21-169"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sent move&quot;</span><span class="p">)</span>
<a id="__codelineno-21-170" name="__codelineno-21-170"></a>        <span class="k">return</span>
<a id="__codelineno-21-171" name="__codelineno-21-171"></a>
<a id="__codelineno-21-172" name="__codelineno-21-172"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#enables playing of inifinite games, playGame() returns to here after checkmate, resets all local values</span>
<a id="__codelineno-21-173" name="__codelineno-21-173"></a>        <span class="n">isMate</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-21-174" name="__codelineno-21-174"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;good chess speaks for itself, welcome to Von Niemann Probe&quot;</span><span class="p">)</span>
<a id="__codelineno-21-175" name="__codelineno-21-175"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;side of stockfish:&quot;</span><span class="p">)</span> <span class="c1">#request side of stockfish player</span>
<a id="__codelineno-21-176" name="__codelineno-21-176"></a>        <span class="n">fishSide</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span> <span class="c1">#which side is hans niemann on?</span>
<a id="__codelineno-21-177" name="__codelineno-21-177"></a>        <span class="n">playGame</span><span class="p">(</span><span class="n">fishSide</span><span class="p">)</span> <span class="c1">#initiate game with advantage player&#39;s side receiving hints based on other player&#39;s moves</span>
</code></pre></div></td></tr></table></div>

</div>

<details class="example">
<summary>Bluetoothless Implemetation</summary>
<div style="height:660px; overflow:scroll;">
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Chess Engine</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">  1</a></span>
<span class="normal"><a href="#__codelineno-22-2">  2</a></span>
<span class="normal"><a href="#__codelineno-22-3">  3</a></span>
<span class="normal"><a href="#__codelineno-22-4">  4</a></span>
<span class="normal"><a href="#__codelineno-22-5">  5</a></span>
<span class="normal"><a href="#__codelineno-22-6">  6</a></span>
<span class="normal"><a href="#__codelineno-22-7">  7</a></span>
<span class="normal"><a href="#__codelineno-22-8">  8</a></span>
<span class="normal"><a href="#__codelineno-22-9">  9</a></span>
<span class="normal"><a href="#__codelineno-22-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-22-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-22-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-22-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-22-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-22-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-22-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-22-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-22-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-22-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-22-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-22-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-22-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-22-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-22-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-22-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-22-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-22-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-22-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-22-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-22-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-22-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-22-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-22-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-22-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-22-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-22-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-22-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-22-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-22-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-22-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-22-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-22-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-22-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-22-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-22-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-22-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-22-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-22-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-22-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-22-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-22-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-22-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-22-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-22-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-22-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-22-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-22-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-22-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-22-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-22-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-22-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-22-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-22-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-22-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-22-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-22-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-22-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-22-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-22-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-22-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-22-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-22-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-22-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-22-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-22-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-22-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-22-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-22-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-22-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-22-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-22-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-22-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-22-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-22-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-22-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-22-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-22-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-22-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-22-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-22-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-22-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-22-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-22-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-22-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-22-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-22-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-22-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-22-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-22-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-22-100">100</a></span>
<span class="normal"><a href="#__codelineno-22-101">101</a></span>
<span class="normal"><a href="#__codelineno-22-102">102</a></span>
<span class="normal"><a href="#__codelineno-22-103">103</a></span>
<span class="normal"><a href="#__codelineno-22-104">104</a></span>
<span class="normal"><a href="#__codelineno-22-105">105</a></span>
<span class="normal"><a href="#__codelineno-22-106">106</a></span>
<span class="normal"><a href="#__codelineno-22-107">107</a></span>
<span class="normal"><a href="#__codelineno-22-108">108</a></span>
<span class="normal"><a href="#__codelineno-22-109">109</a></span>
<span class="normal"><a href="#__codelineno-22-110">110</a></span>
<span class="normal"><a href="#__codelineno-22-111">111</a></span>
<span class="normal"><a href="#__codelineno-22-112">112</a></span>
<span class="normal"><a href="#__codelineno-22-113">113</a></span>
<span class="normal"><a href="#__codelineno-22-114">114</a></span>
<span class="normal"><a href="#__codelineno-22-115">115</a></span>
<span class="normal"><a href="#__codelineno-22-116">116</a></span>
<span class="normal"><a href="#__codelineno-22-117">117</a></span>
<span class="normal"><a href="#__codelineno-22-118">118</a></span>
<span class="normal"><a href="#__codelineno-22-119">119</a></span>
<span class="normal"><a href="#__codelineno-22-120">120</a></span>
<span class="normal"><a href="#__codelineno-22-121">121</a></span>
<span class="normal"><a href="#__codelineno-22-122">122</a></span>
<span class="normal"><a href="#__codelineno-22-123">123</a></span>
<span class="normal"><a href="#__codelineno-22-124">124</a></span>
<span class="normal"><a href="#__codelineno-22-125">125</a></span>
<span class="normal"><a href="#__codelineno-22-126">126</a></span>
<span class="normal"><a href="#__codelineno-22-127">127</a></span>
<span class="normal"><a href="#__codelineno-22-128">128</a></span>
<span class="normal"><a href="#__codelineno-22-129">129</a></span>
<span class="normal"><a href="#__codelineno-22-130">130</a></span>
<span class="normal"><a href="#__codelineno-22-131">131</a></span>
<span class="normal"><a href="#__codelineno-22-132">132</a></span>
<span class="normal"><a href="#__codelineno-22-133">133</a></span>
<span class="normal"><a href="#__codelineno-22-134">134</a></span>
<span class="normal"><a href="#__codelineno-22-135">135</a></span>
<span class="normal"><a href="#__codelineno-22-136">136</a></span>
<span class="normal"><a href="#__codelineno-22-137">137</a></span>
<span class="normal"><a href="#__codelineno-22-138">138</a></span>
<span class="normal"><a href="#__codelineno-22-139">139</a></span>
<span class="normal"><a href="#__codelineno-22-140">140</a></span>
<span class="normal"><a href="#__codelineno-22-141">141</a></span>
<span class="normal"><a href="#__codelineno-22-142">142</a></span>
<span class="normal"><a href="#__codelineno-22-143">143</a></span>
<span class="normal"><a href="#__codelineno-22-144">144</a></span>
<span class="normal"><a href="#__codelineno-22-145">145</a></span>
<span class="normal"><a href="#__codelineno-22-146">146</a></span>
<span class="normal"><a href="#__codelineno-22-147">147</a></span>
<span class="normal"><a href="#__codelineno-22-148">148</a></span>
<span class="normal"><a href="#__codelineno-22-149">149</a></span>
<span class="normal"><a href="#__codelineno-22-150">150</a></span>
<span class="normal"><a href="#__codelineno-22-151">151</a></span>
<span class="normal"><a href="#__codelineno-22-152">152</a></span>
<span class="normal"><a href="#__codelineno-22-153">153</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="c1">#(c) Teddy Warner &amp; Jack Hollingsworth - 2022</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="c1">#This work may be reproduced, modified, distributed, performed, and displayed</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="c1">#for any purpose, but must acknowledge Teddy Warner  &amp; Jack Hollingsworth.</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="c1">#Copyright is retained and must be preserved. The work is provided as is;</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="c1">#no warranty is provided, and users accept all liability.</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="c1">#complete implementation without bluetooth sending, everything else works though so can easily be iterated upon</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="c1">#download stockfish from https://stockfishchess.org/files/stockfish_15_win_x64_avx2.zip</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="kn">from</span><span class="w"> </span><span class="nn">stockfish</span><span class="w"> </span><span class="kn">import</span> <span class="n">Stockfish</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">chess</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">fish</span>
<a id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="k">global</span> <span class="n">legal</span><span class="p">;</span> <span class="k">global</span> <span class="n">legalMoves</span>
<a id="__codelineno-22-18" name="__codelineno-22-18"></a><span class="k">global</span> <span class="n">moveAdjusted</span><span class="p">;</span> <span class="k">global</span> <span class="n">badChars</span>
<a id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="k">global</span> <span class="n">isMate</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseDict</span>
<a id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="k">global</span> <span class="n">morseMove</span><span class="p">;</span> <span class="k">global</span> <span class="n">stockfishPath</span>
<a id="__codelineno-22-21" name="__codelineno-22-21"></a>
<a id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="n">stockfishPath</span> <span class="o">=</span> <span class="s2">&quot;C:/Users/jackh/Downloads/stockfish_15_win_x64_avx2/stockfish_15_win_x64_avx2/stockfish_15_x64_avx2.exe&quot;</span> <span class="c1">#replace URL with the path to your Stockfish exe. Note - the path may only contain forward slashes, no backslashes.</span>
<a id="__codelineno-22-23" name="__codelineno-22-23"></a>
<a id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="n">morseDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;.-&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="s1">&#39;-...&#39;</span><span class="p">,</span>
<a id="__codelineno-22-25" name="__codelineno-22-25"></a>  <span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;-.-.&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="s1">&#39;-..&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span><span class="s1">&#39;.&#39;</span><span class="p">,</span>
<a id="__codelineno-22-26" name="__codelineno-22-26"></a>  <span class="s1">&#39;f&#39;</span><span class="p">:</span><span class="s1">&#39;..-.&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">:</span><span class="s1">&#39;--.&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;....&#39;</span><span class="p">,</span>
<a id="__codelineno-22-27" name="__codelineno-22-27"></a>  <span class="s1">&#39;1&#39;</span><span class="p">:</span><span class="s1">&#39;.----&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span><span class="s1">&#39;..---&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span><span class="s1">&#39;...--&#39;</span><span class="p">,</span>
<a id="__codelineno-22-28" name="__codelineno-22-28"></a>  <span class="s1">&#39;4&#39;</span><span class="p">:</span><span class="s1">&#39;....-&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">:</span><span class="s1">&#39;.....&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span><span class="s1">&#39;-....&#39;</span><span class="p">,</span>
<a id="__codelineno-22-29" name="__codelineno-22-29"></a>  <span class="s1">&#39;7&#39;</span><span class="p">:</span><span class="s1">&#39;--...&#39;</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">:</span><span class="s1">&#39;---..&#39;</span><span class="p">}</span> <span class="c1">#morse dict for all chars in chess moves</span>
<a id="__codelineno-22-30" name="__codelineno-22-30"></a>
<a id="__codelineno-22-31" name="__codelineno-22-31"></a><span class="n">board</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Board</span><span class="p">();</span> <span class="c1">#create chess board object</span>
<a id="__codelineno-22-32" name="__codelineno-22-32"></a>
<a id="__codelineno-22-33" name="__codelineno-22-33"></a><span class="n">badChars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;i&quot;</span><span class="p">,</span> <span class="s2">&quot;j&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span>
<a id="__codelineno-22-34" name="__codelineno-22-34"></a><span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">]</span> <span class="c1">#chars that can&#39;t be in a legal chess move</span>
<a id="__codelineno-22-35" name="__codelineno-22-35"></a>
<a id="__codelineno-22-36" name="__codelineno-22-36"></a><span class="n">morseMove</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#placeholder for morse code move, filled later</span>
<a id="__codelineno-22-37" name="__codelineno-22-37"></a>
<a id="__codelineno-22-38" name="__codelineno-22-38"></a><span class="n">fish</span> <span class="o">=</span> <span class="n">Stockfish</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stockfishPath</span><span class="p">),</span> 
<a id="__codelineno-22-39" name="__codelineno-22-39"></a><span class="n">depth</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Threads&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;Hash&quot;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span> <span class="s2">&quot;UCI_LimitStrength&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">})</span> <span class="c1">#stockfish object declaration, can regulate strength</span>
<a id="__codelineno-22-40" name="__codelineno-22-40"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WDL Accepted &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">does_current_engine_version_have_wdl_option</span><span class="p">()))</span>
<a id="__codelineno-22-41" name="__codelineno-22-41"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Board State &quot;</span> <span class="o">+</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">())</span>
<a id="__codelineno-22-42" name="__codelineno-22-42"></a>
<a id="__codelineno-22-43" name="__codelineno-22-43"></a><span class="k">def</span><span class="w"> </span><span class="nf">playGame</span><span class="p">(</span><span class="n">side</span><span class="p">):</span>
<a id="__codelineno-22-44" name="__codelineno-22-44"></a>    <span class="k">global</span> <span class="n">legal</span><span class="p">;</span> <span class="k">global</span> <span class="n">legalMoves</span>
<a id="__codelineno-22-45" name="__codelineno-22-45"></a>    <span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">isMate</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseMove</span><span class="p">;</span> 
<a id="__codelineno-22-46" name="__codelineno-22-46"></a>    <span class="n">mate</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#checkmate state declaration</span>
<a id="__codelineno-22-47" name="__codelineno-22-47"></a>    <span class="n">turns</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#these could be the same, but easier to keep sep = SPAGHETTIOLI CODE MOMENT</span>
<a id="__codelineno-22-48" name="__codelineno-22-48"></a>    <span class="n">board</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Board</span><span class="p">();</span> <span class="c1">#declare chess board object in chess module</span>
<a id="__codelineno-22-49" name="__codelineno-22-49"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;fish playing as &quot;</span> <span class="o">+</span> <span class="n">side</span><span class="p">)</span>
<a id="__codelineno-22-50" name="__codelineno-22-50"></a>    <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s2">&quot;white&quot;</span><span class="p">:</span>
<a id="__codelineno-22-51" name="__codelineno-22-51"></a>        <span class="k">while</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span> <span class="c1">#if game not over, play continues</span>
<a id="__codelineno-22-52" name="__codelineno-22-52"></a>            <span class="n">bestMove</span> <span class="o">=</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_best_move</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c1">#stockfish get best current move</span>
<a id="__codelineno-22-53" name="__codelineno-22-53"></a>            <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">bestMove</span><span class="p">]);</span> 
<a id="__codelineno-22-54" name="__codelineno-22-54"></a>            <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-55" name="__codelineno-22-55"></a>            <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-56" name="__codelineno-22-56"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;whitefish plays &quot;</span> <span class="o">+</span> <span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-57" name="__codelineno-22-57"></a>            <span class="n">morseMove</span> <span class="o">=</span> <span class="n">toMorse</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#call morse conversion of fish move</span>
<a id="__codelineno-22-58" name="__codelineno-22-58"></a>            <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#returns state of checkmate</span>
<a id="__codelineno-22-59" name="__codelineno-22-59"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checkmate: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mate</span><span class="p">))</span> <span class="c1">#prints state of checkmate after every fish move</span>
<a id="__codelineno-22-60" name="__codelineno-22-60"></a>            <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-22-61" name="__codelineno-22-61"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory!&quot;</span><span class="p">)</span>
<a id="__codelineno-22-62" name="__codelineno-22-62"></a>                <span class="k">return</span>
<a id="__codelineno-22-63" name="__codelineno-22-63"></a>            <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-64" name="__codelineno-22-64"></a>            <span class="n">legalMoves</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">legal_moves</span><span class="p">)</span> <span class="c1">#convert list to string</span>
<a id="__codelineno-22-65" name="__codelineno-22-65"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;black move:&quot;</span><span class="p">)</span> <span class="c1">#request player move</span>
<a id="__codelineno-22-66" name="__codelineno-22-66"></a>            <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-22-67" name="__codelineno-22-67"></a>            <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<a id="__codelineno-22-68" name="__codelineno-22-68"></a>            <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-69" name="__codelineno-22-69"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;board after &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moves:&quot;</span><span class="p">)</span>
<a id="__codelineno-22-70" name="__codelineno-22-70"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span> <span class="c1">#shows board from player perspective (white)</span>
<a id="__codelineno-22-71" name="__codelineno-22-71"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory&quot;</span><span class="p">)</span>
<a id="__codelineno-22-72" name="__codelineno-22-72"></a>        <span class="k">return</span> <span class="c1">#return to infinite loop</span>
<a id="__codelineno-22-73" name="__codelineno-22-73"></a>    <span class="k">if</span> <span class="n">side</span> <span class="o">==</span> <span class="s2">&quot;black&quot;</span><span class="p">:</span>
<a id="__codelineno-22-74" name="__codelineno-22-74"></a>        <span class="n">legalMoves</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">legal_moves</span><span class="p">)</span> <span class="c1">#convert list to string</span>
<a id="__codelineno-22-75" name="__codelineno-22-75"></a>        <span class="k">while</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
<a id="__codelineno-22-76" name="__codelineno-22-76"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;white move:&quot;</span><span class="p">)</span>
<a id="__codelineno-22-77" name="__codelineno-22-77"></a>            <span class="n">move</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-22-78" name="__codelineno-22-78"></a>            <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">)</span>
<a id="__codelineno-22-79" name="__codelineno-22-79"></a>            <span class="n">bestMove</span> <span class="o">=</span> <span class="n">fish</span><span class="o">.</span><span class="n">get_best_move</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c1">#stockfish get best current move</span>
<a id="__codelineno-22-80" name="__codelineno-22-80"></a>            <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">bestMove</span><span class="p">]);</span> 
<a id="__codelineno-22-81" name="__codelineno-22-81"></a>            <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-82" name="__codelineno-22-82"></a>            <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-83" name="__codelineno-22-83"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;blackfish plays &quot;</span> <span class="o">+</span> <span class="n">bestMove</span><span class="p">)</span>
<a id="__codelineno-22-84" name="__codelineno-22-84"></a>            <span class="n">morseMove</span> <span class="o">=</span> <span class="n">toMorse</span><span class="p">(</span><span class="n">bestMove</span><span class="p">)</span> <span class="c1">#get string of morse-converted move, not in use</span>
<a id="__codelineno-22-85" name="__codelineno-22-85"></a>            <span class="n">mate</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_checkmate</span><span class="p">()</span> <span class="c1">#returns state of checkmate</span>
<a id="__codelineno-22-86" name="__codelineno-22-86"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checkmate: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mate</span><span class="p">))</span> <span class="c1">#prints state of checkmate after every fish move</span>
<a id="__codelineno-22-87" name="__codelineno-22-87"></a>            <span class="k">if</span> <span class="n">mate</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-22-88" name="__codelineno-22-88"></a>                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory!&quot;</span><span class="p">)</span>
<a id="__codelineno-22-89" name="__codelineno-22-89"></a>                <span class="k">return</span>
<a id="__codelineno-22-90" name="__codelineno-22-90"></a>            <span class="n">turns</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-91" name="__codelineno-22-91"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;board after &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">turns</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; moves:&quot;</span><span class="p">)</span>
<a id="__codelineno-22-92" name="__codelineno-22-92"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">fish</span><span class="o">.</span><span class="n">get_board_visual</span><span class="p">())</span> <span class="c1">#shows board from player perspective (black)</span>
<a id="__codelineno-22-93" name="__codelineno-22-93"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;checkmate, stockfish victory!&quot;</span><span class="p">)</span>
<a id="__codelineno-22-94" name="__codelineno-22-94"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-22-95" name="__codelineno-22-95"></a>        <span class="k">return</span> <span class="c1">#return to infinite loop</span>
<a id="__codelineno-22-96" name="__codelineno-22-96"></a>
<a id="__codelineno-22-97" name="__codelineno-22-97"></a><span class="k">def</span><span class="w"> </span><span class="nf">getPlayerMove</span><span class="p">(</span><span class="n">move</span><span class="p">):</span>
<a id="__codelineno-22-98" name="__codelineno-22-98"></a>    <span class="k">global</span> <span class="n">board</span><span class="p">;</span> <span class="k">global</span> <span class="n">moveAdjusted</span><span class="p">;</span> <span class="k">global</span> <span class="n">badChars</span><span class="p">;</span> <span class="k">global</span> <span class="n">morseMove</span>
<a id="__codelineno-22-99" name="__codelineno-22-99"></a>    <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">#reset no bad chars bool</span>
<a id="__codelineno-22-100" name="__codelineno-22-100"></a>    <span class="n">legal</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#reset illegal bool</span>
<a id="__codelineno-22-101" name="__codelineno-22-101"></a>    <span class="n">charCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">numCount</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-22-102" name="__codelineno-22-102"></a>    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">move</span><span class="p">:</span> <span class="c1">#check if badChars exist in move</span>
<a id="__codelineno-22-103" name="__codelineno-22-103"></a>        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">#reset iterating var</span>
<a id="__codelineno-22-104" name="__codelineno-22-104"></a>        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">badChars</span><span class="p">):</span>
<a id="__codelineno-22-105" name="__codelineno-22-105"></a>            <span class="n">badChar</span> <span class="o">=</span> <span class="n">badChars</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-22-106" name="__codelineno-22-106"></a>            <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="n">badChar</span><span class="p">:</span>
<a id="__codelineno-22-107" name="__codelineno-22-107"></a>                <span class="nb">print</span><span class="p">(</span><span class="n">char</span> <span class="o">+</span> <span class="s1">&#39; is ILLEGAL&#39;</span><span class="p">)</span>
<a id="__codelineno-22-108" name="__codelineno-22-108"></a>                <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#set bool to reflect bad char</span>
<a id="__codelineno-22-109" name="__codelineno-22-109"></a>            <span class="k">if</span> <span class="n">char</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-22-110" name="__codelineno-22-110"></a>                <span class="n">charCount</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">#reflect that at least 1 char in string</span>
<a id="__codelineno-22-111" name="__codelineno-22-111"></a>            <span class="k">if</span> <span class="n">char</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-22-112" name="__codelineno-22-112"></a>                <span class="n">numCount</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1">#reflect that at least one number in string</span>
<a id="__codelineno-22-113" name="__codelineno-22-113"></a>            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-22-114" name="__codelineno-22-114"></a>            <span class="c1">#print(char + &quot;is legal&quot;) #debug bad chars function</span>
<a id="__codelineno-22-115" name="__codelineno-22-115"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">5</span><span class="p">:</span> <span class="c1">#solve edge case where small string doesn&#39;t break other rules</span>
<a id="__codelineno-22-116" name="__codelineno-22-116"></a>        <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span><span class="p">;</span>
<a id="__codelineno-22-117" name="__codelineno-22-117"></a>    <span class="k">if</span> <span class="n">charCount</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">numCount</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-22-118" name="__codelineno-22-118"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;numbers: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">numCount</span><span class="p">))</span>
<a id="__codelineno-22-119" name="__codelineno-22-119"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;chars &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">charCount</span><span class="p">))</span>
<a id="__codelineno-22-120" name="__codelineno-22-120"></a>        <span class="n">noBadChars</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1">#change bool to reflect bad formatting</span>
<a id="__codelineno-22-121" name="__codelineno-22-121"></a>    <span class="k">if</span> <span class="n">noBadChars</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#only creative move objects if correct formatting</span>
<a id="__codelineno-22-122" name="__codelineno-22-122"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">move</span> <span class="o">+</span> <span class="s2">&quot; is good format&quot;</span><span class="p">)</span>
<a id="__codelineno-22-123" name="__codelineno-22-123"></a>        <span class="n">myMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#create move object frmo current player move, used to check legality</span>
<a id="__codelineno-22-124" name="__codelineno-22-124"></a>        <span class="n">legal</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">is_legal</span><span class="p">(</span><span class="n">myMove</span><span class="p">)</span> <span class="c1">#checks legality of desired move</span>
<a id="__codelineno-22-125" name="__codelineno-22-125"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Legal? &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">legal</span><span class="p">))</span>
<a id="__codelineno-22-126" name="__codelineno-22-126"></a>    <span class="k">if</span> <span class="n">legal</span> <span class="ow">and</span> <span class="n">noBadChars</span><span class="p">:</span> <span class="c1">#move can only happen if legal and doesn&#39;t contain illegal chars</span>
<a id="__codelineno-22-127" name="__codelineno-22-127"></a>        <span class="n">fish</span><span class="o">.</span><span class="n">make_moves_from_current_position</span><span class="p">([</span><span class="n">move</span><span class="p">])</span><span class="c1">#plays legal player move in STOCKFISH</span>
<a id="__codelineno-22-128" name="__codelineno-22-128"></a>        <span class="n">chessMove</span> <span class="o">=</span> <span class="n">chess</span><span class="o">.</span><span class="n">Move</span><span class="o">.</span><span class="n">from_uci</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#load legal player move</span>
<a id="__codelineno-22-129" name="__codelineno-22-129"></a>        <span class="n">board</span><span class="o">.</span><span class="n">push_san</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="c1">#send player move to board tracker</span>
<a id="__codelineno-22-130" name="__codelineno-22-130"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;player plays &quot;</span> <span class="o">+</span> <span class="n">move</span><span class="p">)</span>
<a id="__codelineno-22-131" name="__codelineno-22-131"></a>        <span class="k">return</span> <span class="c1">#back to game loop</span>
<a id="__codelineno-22-132" name="__codelineno-22-132"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-22-133" name="__codelineno-22-133"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;illegal move, input new move:&quot;</span><span class="p">)</span>
<a id="__codelineno-22-134" name="__codelineno-22-134"></a>        <span class="n">newMove</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<a id="__codelineno-22-135" name="__codelineno-22-135"></a>        <span class="n">getPlayerMove</span><span class="p">(</span><span class="n">newMove</span><span class="p">)</span>
<a id="__codelineno-22-136" name="__codelineno-22-136"></a>        <span class="k">return</span> <span class="c1">#back to game loop</span>
<a id="__codelineno-22-137" name="__codelineno-22-137"></a>
<a id="__codelineno-22-138" name="__codelineno-22-138"></a><span class="k">def</span><span class="w"> </span><span class="nf">toMorse</span><span class="p">(</span><span class="n">move</span><span class="p">):</span> <span class="c1">#convert move to morse code</span>
<a id="__codelineno-22-139" name="__codelineno-22-139"></a>    <span class="n">ret</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#empty morse conversion</span>
<a id="__codelineno-22-140" name="__codelineno-22-140"></a>    <span class="n">newConvert</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1">#empty mid-conversion string</span>
<a id="__codelineno-22-141" name="__codelineno-22-141"></a>    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">move</span><span class="p">:</span>
<a id="__codelineno-22-142" name="__codelineno-22-142"></a>        <span class="c1">#print(&quot;converting &quot; + char) #debug print</span>
<a id="__codelineno-22-143" name="__codelineno-22-143"></a>        <span class="n">newConvert</span> <span class="o">=</span> <span class="n">morseDict</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="c1">#take key of char index in morse dict</span>
<a id="__codelineno-22-144" name="__codelineno-22-144"></a>        <span class="n">ret</span> <span class="o">+=</span> <span class="n">newConvert</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="c1">#add morse for new char to morse string</span>
<a id="__codelineno-22-145" name="__codelineno-22-145"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Morse-Converted Move: &quot;</span> <span class="o">+</span> <span class="n">ret</span><span class="p">)</span>
<a id="__codelineno-22-146" name="__codelineno-22-146"></a>    <span class="k">return</span> <span class="n">ret</span>
<a id="__codelineno-22-147" name="__codelineno-22-147"></a>
<a id="__codelineno-22-148" name="__codelineno-22-148"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span> <span class="c1">#enables playing of inifinite games, playGame() returns to here after checkmate</span>
<a id="__codelineno-22-149" name="__codelineno-22-149"></a>    <span class="n">isMate</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-22-150" name="__codelineno-22-150"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;good chess speaks for itself, welcome to Von Niemann Probe&quot;</span><span class="p">)</span>
<a id="__codelineno-22-151" name="__codelineno-22-151"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;side of stockfish:&quot;</span><span class="p">)</span> <span class="c1">#request side of stockfish player</span>
<a id="__codelineno-22-152" name="__codelineno-22-152"></a>    <span class="n">fishSide</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span> <span class="c1">#laptop user input</span>
<a id="__codelineno-22-153" name="__codelineno-22-153"></a>    <span class="n">playGame</span><span class="p">(</span><span class="n">fishSide</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</div></p>
</details>
<h2 id="telegraph-code">Telegraph Code<a class="headerlink" href="#telegraph-code" title="Permanent link">&para;</a></h2>
<p>Once a formatted move is sent to the shoe insole, it needs to use its vibrating motor to discretely tell its wearer what the best move is. As all of the major processing and translation is done in Python, all the ATTiny412 microcontroller in the insole does is receive a move via Bluetooth, parse it, and buzz it to the user, making its job considerably simpler.</p>
<h3 id="c-setup-initialization">C++ Setup &amp; Initialization<a class="headerlink" href="#c-setup-initialization" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>#include &lt;SoftwareSerial.h&gt; //software serial library, native in base installation of ide
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>SoftwareSerial HC06(0, 1); //HC06-TX Pin 10, HC06-RX to Arduino Pin 11
</code></pre></div>
<p>The HC-06 cannot use the normal serial pins, so the SoftwareSerial library is required. The above snippet imports the library and establishes a transmitting line on pin 0 and a receiving line on pin 1.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>int buzzerPin = 2; //pin of buzzer/vibrating motor
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>int dotLength = 200; //establish length of 1 dot
</code></pre></div>
<p>These lines establish the pin of the buzzer and specify the length of one dot. Because of the encoding method used here, it is not necessary to specify the length of a dash. The length of a dot is also used for pauses here, but another time could be added to further optimize the buzzing of moves.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>void setup() {
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>  HC06.begin(9600); //Baudrate 9600 , Choose your own baudrate
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>  pinMode(buzzerPin, OUTPUT);
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>}
</code></pre></div>
<p>These lines establish a connection between the Bluetooth module and the machine that is running the Python program. It also initializes the buzzer as an output.</p>
<h3 id="receiving-transmitting-moves">Receiving &amp; Transmitting Moves<a class="headerlink" href="#receiving-transmitting-moves" title="Permanent link">&para;</a></h3>
<p>Once the Bluetooth module is connected to the Python program and the buzzer is setup, the insole is ready to receive moves and buzz them on the internal vibrating motor.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>void loop(){
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>  if(HC06.available() &gt; 0)
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>  {
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>    char receive = HC06.read();
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>    if(receive ==&#39;.&#39;){
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>      digitalWrite(buzzerPin, HIGH);
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>      delay(dotLength); 
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>      digitalWrite(buzzerPin, LOW);
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>      delay(dotLength);
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>    }
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>    if(receive ==&#39;9&#39;){
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>      digitalWrite(buzzerPin, LOW);
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>      delay(dotLength * 2);
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>    }
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>    else {
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>      digitalWrite(buzzerPin, LOW);
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>      delay(5);
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>    }
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>  }
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>}
</code></pre></div>
<p>The Python program sends bytes one at a time and they simply pile up in the stack on the ATTiny412. This allows us to interact with each byte one at a time and not touch the other ones until they are ready to be buzzed. This prevents the need for any local strings or storage for the moves, as each byte in a move is no longer necessary after it is buzzed once, which means that accessing these bytes just once is sufficient.</p>
<p>The local char, receive, is set to each byte contained in the move, in the order that they are received. With our encoding method, each byte is either a &ldquo;.&rdquo; or a &ldquo;9&rdquo; or empty, so these are the only conditions necessary that will result in a buzz. Sometimes junk data is sent, so it is better to leave this final condition open-ended as an else statement instead of including another conditional checking for null bytes, as junk data would result in a crash in this case.</p>
<div style="height:660px; overflow:scroll;">

  <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Telegraph Reciving</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-27-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-27-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-27-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-27-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-27-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-27-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-27-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-27-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-27-10">10</a></span>
<span class="normal"><a href="#__codelineno-27-11">11</a></span>
<span class="normal"><a href="#__codelineno-27-12">12</a></span>
<span class="normal"><a href="#__codelineno-27-13">13</a></span>
<span class="normal"><a href="#__codelineno-27-14">14</a></span>
<span class="normal"><a href="#__codelineno-27-15">15</a></span>
<span class="normal"><a href="#__codelineno-27-16">16</a></span>
<span class="normal"><a href="#__codelineno-27-17">17</a></span>
<span class="normal"><a href="#__codelineno-27-18">18</a></span>
<span class="normal"><a href="#__codelineno-27-19">19</a></span>
<span class="normal"><a href="#__codelineno-27-20">20</a></span>
<span class="normal"><a href="#__codelineno-27-21">21</a></span>
<span class="normal"><a href="#__codelineno-27-22">22</a></span>
<span class="normal"><a href="#__codelineno-27-23">23</a></span>
<span class="normal"><a href="#__codelineno-27-24">24</a></span>
<span class="normal"><a href="#__codelineno-27-25">25</a></span>
<span class="normal"><a href="#__codelineno-27-26">26</a></span>
<span class="normal"><a href="#__codelineno-27-27">27</a></span>
<span class="normal"><a href="#__codelineno-27-28">28</a></span>
<span class="normal"><a href="#__codelineno-27-29">29</a></span>
<span class="normal"><a href="#__codelineno-27-30">30</a></span>
<span class="normal"><a href="#__codelineno-27-31">31</a></span>
<span class="normal"><a href="#__codelineno-27-32">32</a></span>
<span class="normal"><a href="#__codelineno-27-33">33</a></span>
<span class="normal"><a href="#__codelineno-27-34">34</a></span>
<span class="normal"><a href="#__codelineno-27-35">35</a></span>
<span class="normal"><a href="#__codelineno-27-36">36</a></span>
<span class="normal"><a href="#__codelineno-27-37">37</a></span>
<span class="normal"><a href="#__codelineno-27-38">38</a></span>
<span class="normal"><a href="#__codelineno-27-39">39</a></span>
<span class="normal"><a href="#__codelineno-27-40">40</a></span>
<span class="normal"><a href="#__codelineno-27-41">41</a></span>
<span class="normal"><a href="#__codelineno-27-42">42</a></span>
<span class="normal"><a href="#__codelineno-27-43">43</a></span>
<span class="normal"><a href="#__codelineno-27-44">44</a></span>
<span class="normal"><a href="#__codelineno-27-45">45</a></span>
<span class="normal"><a href="#__codelineno-27-46">46</a></span>
<span class="normal"><a href="#__codelineno-27-47">47</a></span>
<span class="normal"><a href="#__codelineno-27-48">48</a></span>
<span class="normal"><a href="#__codelineno-27-49">49</a></span>
<span class="normal"><a href="#__codelineno-27-50">50</a></span>
<span class="normal"><a href="#__codelineno-27-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="w">    </span><span class="c1">//(c) Teddy Warner &amp; Jack Hollingsworth - 2022</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">    </span><span class="c1">//This work may be reproduced, modified, distributed, performed, and displayed</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">    </span><span class="c1">//for any purpose, but must acknowledge Teddy Warner  &amp; Jack Hollingsworth.</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">    </span><span class="c1">//Copyright is retained and must be preserved. The work is provided as is;</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">    </span><span class="c1">//no warranty is provided, and users accept all liability.</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Arduino.h&gt;</span><span class="c1"> //Arduino Parent Lib</span>
<a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SoftwareSerial.h&gt;</span><span class="c1"> //software serial library, native in base installation of ide</span>
<a id="__codelineno-27-10" name="__codelineno-27-10"></a>
<a id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="w">    </span><span class="n">SoftwareSerial</span><span class="w"> </span><span class="nf">HC06</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">//HC06-TX Pin 10, HC06-RX to Arduino Pin 11</span>
<a id="__codelineno-27-12" name="__codelineno-27-12"></a>
<a id="__codelineno-27-13" name="__codelineno-27-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">buzzerPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">//pin of buzzer/vibrator</span>
<a id="__codelineno-27-14" name="__codelineno-27-14"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">fullString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// </span>
<a id="__codelineno-27-15" name="__codelineno-27-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dotLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span><span class="w"> </span><span class="c1">//establish length of 1 dot</span>
<a id="__codelineno-27-16" name="__codelineno-27-16"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dashLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">dotLength</span><span class="p">;</span><span class="w"> </span><span class="c1">//establish proportion of dots to dashes</span>
<a id="__codelineno-27-17" name="__codelineno-27-17"></a>
<a id="__codelineno-27-18" name="__codelineno-27-18"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-19" name="__codelineno-27-19"></a><span class="w">      </span><span class="n">HC06</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"> </span><span class="c1">//Baudrate 9600 , Choose your own baudrate </span>
<a id="__codelineno-27-20" name="__codelineno-27-20"></a><span class="w">      </span><span class="n">pinMode</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<a id="__codelineno-27-21" name="__codelineno-27-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-22" name="__codelineno-27-22"></a>
<a id="__codelineno-27-23" name="__codelineno-27-23"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">(){</span>
<a id="__codelineno-27-24" name="__codelineno-27-24"></a>
<a id="__codelineno-27-25" name="__codelineno-27-25"></a><span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">HC06</span><span class="p">.</span><span class="n">available</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">//When HC06 receive something</span>
<a id="__codelineno-27-26" name="__codelineno-27-26"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-27-27" name="__codelineno-27-27"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">receive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HC06</span><span class="p">.</span><span class="n">read</span><span class="p">();</span><span class="w"> </span><span class="c1">//Read from Serial Communication</span>
<a id="__codelineno-27-28" name="__codelineno-27-28"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">receive</span><span class="w"> </span><span class="o">==</span><span class="sc">&#39;.&#39;</span><span class="p">){</span>
<a id="__codelineno-27-29" name="__codelineno-27-29"></a><span class="w">          </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-27-30" name="__codelineno-27-30"></a><span class="w">          </span><span class="n">delay</span><span class="p">(</span><span class="n">dotLength</span><span class="p">);</span><span class="w"> </span><span class="c1">//delay for dotlength</span>
<a id="__codelineno-27-31" name="__codelineno-27-31"></a><span class="w">          </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-27-32" name="__codelineno-27-32"></a><span class="w">          </span><span class="n">delay</span><span class="p">(</span><span class="n">dotLength</span><span class="p">);</span><span class="w"> </span><span class="c1">//dotlength delay between next character</span>
<a id="__codelineno-27-33" name="__codelineno-27-33"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-34" name="__codelineno-27-34"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">receive</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">)</span>
<a id="__codelineno-27-35" name="__codelineno-27-35"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-27-36" name="__codelineno-27-36"></a><span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<a id="__codelineno-27-37" name="__codelineno-27-37"></a><span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="n">dashLength</span><span class="p">);</span>
<a id="__codelineno-27-38" name="__codelineno-27-38"></a><span class="w">        </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-27-39" name="__codelineno-27-39"></a><span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="n">dotLength</span><span class="p">);</span><span class="w"> </span><span class="c1">//dot length delay between next character</span>
<a id="__codelineno-27-40" name="__codelineno-27-40"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-41" name="__codelineno-27-41"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">receive</span><span class="w"> </span><span class="o">==</span><span class="sc">&#39;9&#39;</span><span class="p">){</span>
<a id="__codelineno-27-42" name="__codelineno-27-42"></a><span class="w">          </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-27-43" name="__codelineno-27-43"></a><span class="w">          </span><span class="n">delay</span><span class="p">(</span><span class="n">dotLength</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">//delay for another 2 seconds if space, gives 3 seconds total division between letters - make proportional to actual thing</span>
<a id="__codelineno-27-44" name="__codelineno-27-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-45" name="__codelineno-27-45"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-46" name="__codelineno-27-46"></a><span class="w">          </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">buzzerPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<a id="__codelineno-27-47" name="__codelineno-27-47"></a><span class="w">          </span><span class="n">delay</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-27-48" name="__codelineno-27-48"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-49" name="__codelineno-27-49"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-27-50" name="__codelineno-27-50"></a>
<a id="__codelineno-27-51" name="__codelineno-27-51"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>

</div>

<h2 id="fabrication-testing">Fabrication &amp; Testing<a class="headerlink" href="#fabrication-testing" title="Permanent link">&para;</a></h2>
<p>I began the fabrication of the Von Niemann Probe through some prototype <abbr title="Printed Circuit Board">PCB</abbr> milling on the <a href="https://store.bantamtools.com/products/bantam-tools-desktop-cnc-milling-machine">Bantam Tools Desktop <abbr title="Computerized Numerical Control">CNC</abbr> Milling Machine</a> &hellip;</p>
<center>
  <iframe width="100%" height="650" src="https://www.youtube.com/embed/V-S8DX_Sjtc" title="Von Niemann Probe Prototype Milling" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</center>

<p>Leveraging these machines would allow me to test early designs before ordering final boards from PCBWay, allowing me to ensure their functionality early on in the design process. This process also makes it considerably easier to make changes, as I can test multiple iterations within several hours of each other, including the time to solder each board!</p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/mainboard.png" width="100%" />
  </p>
<figcaption>Von Niemann Probe Mainboard</figcaption>
</figure>
<p>Next up, 3D Printing &hellip; and a lot of it. All prototype prints for the Von Niemann Probe were done on a <a href="https://www.prusa3d.com/category/original-prusa-i3-mk3s/">Prusa I3 MK3S+</a> equipped with an 0.4mm <a href="https://e3d-online.com/blogs/news/nozzle-x-the-one-nozzle-to-rule-them-all">E3D Nozzle X</a> from White <abbr title="Polyethylene Terephthalate Glycol">PETG</abbr>.</p>
<iframe width="48%" height="650" src="https://www.youtube.com/embed/zLLnN3N27Xs" title="Von Niemann Probe CAD!" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<iframe width="48%" height="650" src="https://www.youtube.com/embed/XEVX8DvXH7A" title="Von Niemann Probe Motor Bracket!" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<iframe width="48%" height="650" src="https://www.youtube.com/embed/R1te_hj5dec" title="Von Niemann Probe Prototype Insole Printing" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<iframe width="48%" height="650" src="https://www.youtube.com/embed/Y08WkrvqDDM" title="Von Niemann Probe Insole Printing!" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>

<p>Similar to the <abbr title="Printed Circuit Board">PCB</abbr> prototyping, I fabricated several prints while iterating on the insole&rsquo;s <abbr title="Computer-Aided Design">CAD</abbr>, before ordering the final iteration from PCBWay. Each print required over 14 hours of print time and numerous hours to complete the necessary changes to the design. </p>
<figure>
<p><img alt="" src="../../assets/images/VonNiemannProbe/allprints.jpg" width="100%" />
  </p>
<figcaption>All Iterations of the Von Niemann Probe Insole</figcaption>
</figure>
<p>After finally arriving at a version of the insole that I was satisfied with, I was ready to assemble the device &hellip;</p>
<center>
  <iframe width="100%" height="650" src="https://www.youtube.com/embed/BDq32QYUcXc" title="Von Niemann Probe Prototype Assembly" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</center>

<p>Leaving me with the final product below! <img alt="😄" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@16.0.1/assets/svg/1f604.svg" title=":smile:" /></p>
<figure>
<p><img align="left" alt="" src="../../assets/images/VonNiemannProbe/FinalElectronics.jpg" width="47%" />
<img align="right" alt="" src="../../assets/images/VonNiemannProbe/bottomview.jpg" width="48%" /></p>
</figure>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>https://www.npr.org/2022/10/21/1130442319/hans-niemann-sues-magnus-carlsen-for-100-million-accusing-him-of-defamation&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>https://youtu.be/eg5G1A_mTFg&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>https://twitter.com/hansmokeniemann&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>https://futurism.com/von-neumann-probe&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>https://ww1.microchip.com/downloads/en/DeviceDoc/ATtiny212-412-DataSheet-DS40001911B.pdf&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>https://components101.com/sites/default/files/component_datasheet/HC06%20Bluetooth%20Module%20Datasheet.pdf&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>https://components101.com/wireless/hc-06-bluetooth-module-pinout-datasheet&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>http://www.sizecharter.com/clothing-fit-and-measurement/understanding-shoe-sizing&#160;<a class="footnote-backref" href="#fnref:8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:9">
<p>https://www.researchgate.net/figure/The-Mean-of-Absolute-in-mm-and-Relative-in-FL-Foot-Dimensions-for-Both-Genders-a_tbl2_327021689&#160;<a class="footnote-backref" href="#fnref:9" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:10">
<p>https://www.researchgate.net/figure/Measurements-of-the-foot-and-the-inner-shoe-dimensions-a-Foot-Length-FL-and-Foot_fig5_280976288&#160;<a class="footnote-backref" href="#fnref:10" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:11">
<p>https://www.protalus.com/blogs/news/how-to-measure-feet&#160;<a class="footnote-backref" href="#fnref:11" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:12">
<p>https://www.magnuscarlsen.com/en&#160;<a class="footnote-backref" href="#fnref:12" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
<li id="fn:13">
<p>https://www.chess.com/blog/CHESScom/hans-niemann-report&#160;<a class="footnote-backref" href="#fnref:13" title="Jump back to footnote 13 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:13" title="Jump back to footnote 13 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:13" title="Jump back to footnote 13 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4:13" title="Jump back to footnote 13 in the text">&#8617;</a><a class="footnote-backref" href="#fnref5:13" title="Jump back to footnote 13 in the text">&#8617;</a></p>
</li>
<li id="fn:14">
<p>https://www.bbc.com/news/world-63010107&#160;<a class="footnote-backref" href="#fnref:14" title="Jump back to footnote 14 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:14" title="Jump back to footnote 14 in the text">&#8617;</a></p>
</li>
<li id="fn:15">
<p>https://www.bbc.com/news/world-63043023&#160;<a class="footnote-backref" href="#fnref:15" title="Jump back to footnote 15 in the text">&#8617;</a></p>
</li>
<li id="fn:16">
<p>https://www.youtube.com/watch?v=CJZuT-_kij0&amp;t=593s&#160;<a class="footnote-backref" href="#fnref:16" title="Jump back to footnote 16 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:16" title="Jump back to footnote 16 in the text">&#8617;</a></p>
</li>
<li id="fn:17">
<p>https://cse.buffalo.edu/~regan/chess/fidelity/data/Niemann/&#160;<a class="footnote-backref" href="#fnref:17" title="Jump back to footnote 17 in the text">&#8617;</a></p>
</li>
<li id="fn:18">
<p>https://twitter.com/MagnusCarlsen/status/1574482694406565888?s=20&#160;<a class="footnote-backref" href="#fnref:18" title="Jump back to footnote 18 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:18" title="Jump back to footnote 18 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:18" title="Jump back to footnote 18 in the text">&#8617;</a></p>
</li>
<li id="fn:19">
<p>https://www.wsj.com/articles/chess-cheating-hans-niemann-report-magnus-carlsen-11664911524&#160;<a class="footnote-backref" href="#fnref:19" title="Jump back to footnote 19 in the text">&#8617;</a></p>
</li>
<li id="fn:20">
<p>https://storage.courtlistener.com/recap/gov.uscourts.moed.198608/gov.uscourts.moed.198608.1.0.pdf&#160;<a class="footnote-backref" href="#fnref:20" title="Jump back to footnote 20 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:20" title="Jump back to footnote 20 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:20" title="Jump back to footnote 20 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4:20" title="Jump back to footnote 20 in the text">&#8617;</a></p>
</li>
<li id="fn:21">
<p>https://frontofficesports.com/top-chess-player-platform-join-forces-in-82-9m-deal/&#160;<a class="footnote-backref" href="#fnref:21" title="Jump back to footnote 21 in the text">&#8617;</a></p>
</li>
<li id="fn:22">
<p>https://www.washingtonpost.com/sports/2022/10/05/chess-com-investigation-cheating-hans-niemann-magnus-carlsen/&#160;<a class="footnote-backref" href="#fnref:22" title="Jump back to footnote 22 in the text">&#8617;</a></p>
</li>
<li id="fn:23">
<p>https://www.youtube.com/watch?v=5uDM3fPeNFM&amp;t=224s&#160;<a class="footnote-backref" href="#fnref:23" title="Jump back to footnote 23 in the text">&#8617;</a></p>
</li>
<li id="fn:24">
<p>https://www.youtube.com/watch?v=QNuu8KTUEwU&amp;t=390s&#160;<a class="footnote-backref" href="#fnref:24" title="Jump back to footnote 24 in the text">&#8617;</a></p>
</li>
<li id="fn:25">
<p>https://www.reddit.com/r/chess/comments/x6ixud/during_magnus_carlsens_current_unbroken_streak_as/&#160;<a class="footnote-backref" href="#fnref:25" title="Jump back to footnote 25 in the text">&#8617;</a></p>
</li>
<li id="fn:26">
<p>https://pawnalyze.com/chess-drama/2022/09/05/Analyzing-Allegations-Niemann-Cheating-Scandal.html&#160;<a class="footnote-backref" href="#fnref:26" title="Jump back to footnote 26 in the text">&#8617;</a></p>
</li>
<li id="fn:27">
<p>https://www.chess.com/news/view/hans-niemann-us-junior-championship-annie-wang&#160;<a class="footnote-backref" href="#fnref:27" title="Jump back to footnote 27 in the text">&#8617;</a></p>
</li>
<li id="fn:28">
<p>https://www.mid-day.com/sports/other-sports/article/world-champion-magnus-carlsen-quits-game-amid-cheating-allegations-23246759&#160;<a class="footnote-backref" href="#fnref:28" title="Jump back to footnote 28 in the text">&#8617;</a></p>
</li>
<li id="fn:29">
<p>https://www.fide.com/news/1968&#160;<a class="footnote-backref" href="#fnref:29" title="Jump back to footnote 29 in the text">&#8617;</a></p>
</li>
<li id="fn:30">
<p>https://www.youtube.com/watch?v=TkUkvLqHfZM&#160;<a class="footnote-backref" href="#fnref:30" title="Jump back to footnote 30 in the text">&#8617;</a></p>
</li>
<li id="fn:31">
<p>https://www.youtube.com/watch?v=9wtvXoXh0VU&#160;<a class="footnote-backref" href="#fnref:31" title="Jump back to footnote 31 in the text">&#8617;</a></p>
</li>
<li id="fn:32">
<p>https://www.chess.com/events/2022-sinquefield-cup/03/Carlsen_Magnus-Niemann_Hans_Moke&#160;<a class="footnote-backref" href="#fnref:32" title="Jump back to footnote 32 in the text">&#8617;</a></p>
</li>
<li id="fn:33">
<p>https://www.youtube.com/watch?v=CJZuT-_kij0&#160;<a class="footnote-backref" href="#fnref:33" title="Jump back to footnote 33 in the text">&#8617;</a></p>
</li>
<li id="fn:34">
<p>https://www.youtube.com/watch?v=VptbNKbHQiM&amp;t=5s&#160;<a class="footnote-backref" href="#fnref:34" title="Jump back to footnote 34 in the text">&#8617;</a></p>
</li>
<li id="fn:35">
<p>https://www.youtube.com/watch?v=O6ML2b7IdD4&amp;t=2s&#160;<a class="footnote-backref" href="#fnref:35" title="Jump back to footnote 35 in the text">&#8617;</a></p>
</li>
<li id="fn:36">
<p>https://www.youtube.com/watch?v=qjtbXxA8Fcc&#160;<a class="footnote-backref" href="#fnref:36" title="Jump back to footnote 36 in the text">&#8617;</a></p>
</li>
<li id="fn:37">
<p>https://www.youtube.com/watch?v=uCzwLk6fXXs&#160;<a class="footnote-backref" href="#fnref:37" title="Jump back to footnote 37 in the text">&#8617;</a></p>
</li>
<li id="fn:38">
<p>https://www.youtube.com/watch?v=LkXDhw-TuGw&#160;<a class="footnote-backref" href="#fnref:38" title="Jump back to footnote 38 in the text">&#8617;</a></p>
</li>
<li id="fn:39">
<p>https://www.nationalworld.com/news/offbeat/how-do-you-cheat-at-chess-cheating-player-hans-niemann-scandal-play-online-board-3870066&#160;<a class="footnote-backref" href="#fnref:39" title="Jump back to footnote 39 in the text">&#8617;</a></p>
</li>
<li id="fn:40">
<p>https://www.nytimes.com/2022/12/04/business/chess-cheating-scandal-magnus-carlsen-hans-niemann.html&#160;<a class="footnote-backref" href="#fnref:40" title="Jump back to footnote 40 in the text">&#8617;</a></p>
</li>
<li id="fn:41">
<p>https://www.wsj.com/articles/chess-cheating-magnus-carlsen-hans-niemann-11663751262?mod=article_inline&#160;<a class="footnote-backref" href="#fnref:41" title="Jump back to footnote 41 in the text">&#8617;</a></p>
</li>
<li id="fn:42">
<p>https://www.buzzfeednews.com/article/kelseyweekman/chess-cheating-anal-beads-conspiracy-hans-niemann&#160;<a class="footnote-backref" href="#fnref:42" title="Jump back to footnote 42 in the text">&#8617;</a></p>
</li>
<li id="fn:43">
<p>https://www.youtube.com/watch?v=lpfWGyvO80o&#160;<a class="footnote-backref" href="#fnref:43" title="Jump back to footnote 43 in the text">&#8617;</a></p>
</li>
<li id="fn:44">
<p>https://www.youtube.com/watch?v=GLwyhmmEoAQ&#160;<a class="footnote-backref" href="#fnref:44" title="Jump back to footnote 44 in the text">&#8617;</a></p>
</li>
<li id="fn:45">
<p>https://www.youtube.com/watch?v=umaHIQJY6Tw&#160;<a class="footnote-backref" href="#fnref:45" title="Jump back to footnote 45 in the text">&#8617;</a></p>
</li>
<li id="fn:46">
<p>https://www.youtube.com/watch?v=aDUmS_MJceU&#160;<a class="footnote-backref" href="#fnref:46" title="Jump back to footnote 46 in the text">&#8617;</a></p>
</li>
<li id="fn:47">
<p>https://www.republicworld.com/world-news/rest-of-the-world-news/elon-musk-claims-niemann-may-have-used-anal-beads-to-beat-carlsen-in-chess-championship-articleshow.html&#160;<a class="footnote-backref" href="#fnref:47" title="Jump back to footnote 47 in the text">&#8617;</a></p>
</li>
<li id="fn:48">
<p>https://www.newsweek.com/hans-niemann-magnus-carlsen-chess-sex-toy-scandal-1749903&#160;<a class="footnote-backref" href="#fnref:48" title="Jump back to footnote 48 in the text">&#8617;</a></p>
</li>
<li id="fn:49">
<p>https://www.youtube.com/watch?v=HdHWAuQRG7E&#160;<a class="footnote-backref" href="#fnref:49" title="Jump back to footnote 49 in the text">&#8617;</a></p>
</li>
<li id="fn:50">
<p>https://www.youtube.com/watch?v=J4_e12Md4Fg&#160;<a class="footnote-backref" href="#fnref:50" title="Jump back to footnote 50 in the text">&#8617;</a></p>
</li>
<li id="fn:51">
<p>https://www.youtube.com/watch?v=XjupJslRj5E&#160;<a class="footnote-backref" href="#fnref:51" title="Jump back to footnote 51 in the text">&#8617;</a></p>
</li>
<li id="fn:52">
<p>https://twitter.com/nigelshortchess/status/1573434084239593481&#160;<a class="footnote-backref" href="#fnref:52" title="Jump back to footnote 52 in the text">&#8617;</a></p>
</li>
<li id="fn:53">
<p>https://twitter.com/hansmokeniemann/status/1583164606029365248&#160;<a class="footnote-backref" href="#fnref:53" title="Jump back to footnote 53 in the text">&#8617;</a></p>
</li>
</ol>
</div>

  <!-- Email Subscription -->
  <section class="subscribe-section">
    <div class="subscribe-inner">
      <p>Enter your email to receive the occasional update.</p>
      <form 
        class="subscribe-form"
        action="https://buttondown.com/api/emails/embed-subscribe/teddywarner"
        method="post"
        target="popupwindow"
        onsubmit="window.open('https://buttondown.com/teddywarner', 'popupwindow')"
      >
        <input 
          type="email" 
          name="email" 
          id="bd-email"
          placeholder="your@email.com" 
          required
          autocomplete="email"
        />
        <button type="submit">Subscribe</button>
      </form>
    </div>
  </section>

  <!-- Giscus Comments -->
  <h2 id="__comments">Comments</h2>
  <script src="https://giscus.app/client.js"
  data-cfasync="false"
  data-repo="Twarner491/theodore.net"
  data-repo-id="MDEwOlJlcG9zaXRvcnkzNzgyODU0MTk="
  data-category="General"
  data-category-id="DIC_kwDOFowta84CA5IA"
  data-mapping="title"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="light"
  data-lang="en"
  crossorigin="anonymous"
  async>
</script>

  <!-- Reload on palette change -->
  <script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
      if (palette.color.scheme === "slate") {
        var giscus = document.querySelector("script[src*=giscus]")
        giscus.setAttribute("data-theme", "transparent_dark") 
      }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "transparent_dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
<section class="footer">
  <div class="socials">
    <div class="socialpar">
      <a target="_blank" href="https://github.com/Twarner491">
        <i class="fa-brands fa-github"></i>
      </a>
    </div>
    <div class="socialpar">
      <a target="_blank" href="https://x.com/WarnerTeddy">
        <i class="fa-brands fa-x-twitter"></i>
      </a>
    </div>
    <div class="socialpar">
      <a target="_blank" href="mailto:teddy@warner.net">
        <i class="fa-solid fa-paper-plane"></i>
      </a>
    </div>
  </div>
    <a target="_blank" href="https://github.com/Twarner491/theodore.net/blob/main/LICENSE">
      <p class="copyright">Copyright © 2026 Teddy Warner</p>
    </a>
</section>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.expand", "content.code.annotate", "search.share", "search.suggest", "search.highlight", "content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../assets/js/error-suppressor.js"></script>
      
        <script src="../../assets/js/index.js"></script>
      
    
  </body>
</html>